<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-bufr: readwriteval.F90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NCEPLIBS-bufr
   &#160;<span id="projectnumber">12.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('readwriteval_8F90.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">readwriteval.F90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Read or write data values within a BUFR data subset.  
<a href="#details">More...</a></p>

<p><a href="readwriteval_8F90_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a8a84d615371869d93f16c8617575dee2"><td class="memItemLeft" align="right" valign="top">recursive subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="readwriteval_8F90.html#a8a84d615371869d93f16c8617575dee2">drfini</a> (lunit, mdrf, ndrf, drftag)</td></tr>
<tr class="memdesc:a8a84d615371869d93f16c8617575dee2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Explicitly initialize delayed replication factors and allocate a corresponding amount of space within internal arrays, thereby allowing the subsequent use of subroutine <a class="el" href="readwriteval_8F90.html#a4895b24addb0b3e23f5bd92fd891656e" title="Read or write an entire sequence of data values from or to a data subset.">ufbseq()</a> to write data into delayed replication sequences.  <a href="readwriteval_8F90.html#a8a84d615371869d93f16c8617575dee2">More...</a><br /></td></tr>
<tr class="separator:a8a84d615371869d93f16c8617575dee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10cd831e6dc0a773534c5c2787da56c8"><td class="memItemLeft" align="right" valign="top">recursive real *8 function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="readwriteval_8F90.html#a10cd831e6dc0a773534c5c2787da56c8">getvalnb</a> (lunit, tagpv, ntagpv, tagnb, ntagnb)</td></tr>
<tr class="memdesc:a10cd831e6dc0a773534c5c2787da56c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a data value corresponding to a specific occurrence of a mnemonic within a data subset, based on its position relative to a different mnemonic within the subset.  <a href="readwriteval_8F90.html#a10cd831e6dc0a773534c5c2787da56c8">More...</a><br /></td></tr>
<tr class="separator:a10cd831e6dc0a773534c5c2787da56c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a551fbe590397eacf06bb471b738dd6a5"><td class="memItemLeft" align="right" valign="top">recursive subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="readwriteval_8F90.html#a551fbe590397eacf06bb471b738dd6a5">hold4wlc</a> (lunit, chr, str)</td></tr>
<tr class="memdesc:a551fbe590397eacf06bb471b738dd6a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a long character string (greater than 8 bytes) to a data subset.  <a href="readwriteval_8F90.html#a551fbe590397eacf06bb471b738dd6a5">More...</a><br /></td></tr>
<tr class="separator:a551fbe590397eacf06bb471b738dd6a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2017ce90611078ae96c6bc12da4e8e02"><td class="memItemLeft" align="right" valign="top">integer function&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="readwriteval_8F90.html#a2017ce90611078ae96c6bc12da4e8e02">nevn</a> (node, lun, inv1, inv2, i1, i2, i3, usr)</td></tr>
<tr class="memdesc:a2017ce90611078ae96c6bc12da4e8e02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read one or more data values from a stacked data event within a specified portion of the current data subset.  <a href="readwriteval_8F90.html#a2017ce90611078ae96c6bc12da4e8e02">More...</a><br /></td></tr>
<tr class="separator:a2017ce90611078ae96c6bc12da4e8e02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad0d9cae550b97bc950c739ff44ca6b2"><td class="memItemLeft" align="right" valign="top">recursive subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="readwriteval_8F90.html#aad0d9cae550b97bc950c739ff44ca6b2">readlc</a> (lunit, chr, str)</td></tr>
<tr class="memdesc:aad0d9cae550b97bc950c739ff44ca6b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a long character string (greater than 8 bytes) from a data subset.  <a href="readwriteval_8F90.html#aad0d9cae550b97bc950c739ff44ca6b2">More...</a><br /></td></tr>
<tr class="separator:aad0d9cae550b97bc950c739ff44ca6b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8bbcb32a65a5acdf50e0f5d835c6ac2"><td class="memItemLeft" align="right" valign="top">recursive subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="readwriteval_8F90.html#ac8bbcb32a65a5acdf50e0f5d835c6ac2">setvalnb</a> (lunit, tagpv, ntagpv, tagnb, ntagnb, r8val, iret)</td></tr>
<tr class="memdesc:ac8bbcb32a65a5acdf50e0f5d835c6ac2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a data value corresponding to a specific occurrence of a mnemonic within a data subset, based on its position relative to a different mnemonic within the subset.  <a href="readwriteval_8F90.html#ac8bbcb32a65a5acdf50e0f5d835c6ac2">More...</a><br /></td></tr>
<tr class="separator:ac8bbcb32a65a5acdf50e0f5d835c6ac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79d01683a99ab7e6a31359c00c317bd8"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="readwriteval_8F90.html#a79d01683a99ab7e6a31359c00c317bd8">trybump</a> (lun, usr, i1, i2, io, iret)</td></tr>
<tr class="memdesc:a79d01683a99ab7e6a31359c00c317bd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to expand a delayed replication sequence.  <a href="readwriteval_8F90.html#a79d01683a99ab7e6a31359c00c317bd8">More...</a><br /></td></tr>
<tr class="separator:a79d01683a99ab7e6a31359c00c317bd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0c9f5c0f8e4dc0e1ebd7c685b9a5ba9"><td class="memItemLeft" align="right" valign="top">recursive subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="readwriteval_8F90.html#ad0c9f5c0f8e4dc0e1ebd7c685b9a5ba9">ufbevn</a> (lunit, usr, i1, i2, i3, iret, str)</td></tr>
<tr class="memdesc:ad0c9f5c0f8e4dc0e1ebd7c685b9a5ba9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read one or more data values from an NCEP prepbufr file.  <a href="readwriteval_8F90.html#ad0c9f5c0f8e4dc0e1ebd7c685b9a5ba9">More...</a><br /></td></tr>
<tr class="separator:ad0c9f5c0f8e4dc0e1ebd7c685b9a5ba9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee2899967d88055f73e4d5ad954d7b5a"><td class="memItemLeft" align="right" valign="top">recursive subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="readwriteval_8F90.html#aee2899967d88055f73e4d5ad954d7b5a">ufbget</a> (lunit, tab, i1, iret, str)</td></tr>
<tr class="memdesc:aee2899967d88055f73e4d5ad954d7b5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read one or more data values from a data subset without advancing the subset pointer.  <a href="readwriteval_8F90.html#aee2899967d88055f73e4d5ad954d7b5a">More...</a><br /></td></tr>
<tr class="separator:aee2899967d88055f73e4d5ad954d7b5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ac6ef2be222bff2bab58e3f58f5d67e"><td class="memItemLeft" align="right" valign="top">recursive subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="readwriteval_8F90.html#a1ac6ef2be222bff2bab58e3f58f5d67e">ufbin3</a> (lunit, usr, i1, i2, i3, iret, jret, str)</td></tr>
<tr class="memdesc:a1ac6ef2be222bff2bab58e3f58f5d67e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read one or more data values from an NCEP prepfits file.  <a href="readwriteval_8F90.html#a1ac6ef2be222bff2bab58e3f58f5d67e">More...</a><br /></td></tr>
<tr class="separator:a1ac6ef2be222bff2bab58e3f58f5d67e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6eb38e7aa610c36787b90e50b290eea7"><td class="memItemLeft" align="right" valign="top">recursive subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="readwriteval_8F90.html#a6eb38e7aa610c36787b90e50b290eea7">ufbint</a> (lunin, usr, i1, i2, iret, str)</td></tr>
<tr class="memdesc:a6eb38e7aa610c36787b90e50b290eea7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read or write one or more data values from or to a data subset.  <a href="readwriteval_8F90.html#a6eb38e7aa610c36787b90e50b290eea7">More...</a><br /></td></tr>
<tr class="separator:a6eb38e7aa610c36787b90e50b290eea7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d88d30e5ee23d6d86cbfb66537b512f"><td class="memItemLeft" align="right" valign="top">recursive subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="readwriteval_8F90.html#a1d88d30e5ee23d6d86cbfb66537b512f">ufbinx</a> (lunit, imsg, isub, usr, i1, i2, iret, str)</td></tr>
<tr class="memdesc:a1d88d30e5ee23d6d86cbfb66537b512f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read one or more data values from a specified data subset.  <a href="readwriteval_8F90.html#a1d88d30e5ee23d6d86cbfb66537b512f">More...</a><br /></td></tr>
<tr class="separator:a1d88d30e5ee23d6d86cbfb66537b512f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62aacb5a102aaf1ee01deef68c63cdb8"><td class="memItemLeft" align="right" valign="top">recursive subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="readwriteval_8F90.html#a62aacb5a102aaf1ee01deef68c63cdb8">ufbovr</a> (lunit, usr, i1, i2, iret, str)</td></tr>
<tr class="memdesc:a62aacb5a102aaf1ee01deef68c63cdb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overwrite one or more data values within a data subset.  <a href="readwriteval_8F90.html#a62aacb5a102aaf1ee01deef68c63cdb8">More...</a><br /></td></tr>
<tr class="separator:a62aacb5a102aaf1ee01deef68c63cdb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af46dec3ef4cc6f467323b40eb14a4024"><td class="memItemLeft" align="right" valign="top">recursive subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="readwriteval_8F90.html#af46dec3ef4cc6f467323b40eb14a4024">ufbrep</a> (lunin, usr, i1, i2, iret, str)</td></tr>
<tr class="memdesc:af46dec3ef4cc6f467323b40eb14a4024"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read or write one or more data values from or to a data subset.  <a href="readwriteval_8F90.html#af46dec3ef4cc6f467323b40eb14a4024">More...</a><br /></td></tr>
<tr class="separator:af46dec3ef4cc6f467323b40eb14a4024"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f676e2267d902f8bc913a6d9d1a6aac"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="readwriteval_8F90.html#a3f676e2267d902f8bc913a6d9d1a6aac">ufbrp</a> (lun, usr, i1, i2, io, iret)</td></tr>
<tr class="memdesc:a3f676e2267d902f8bc913a6d9d1a6aac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write or read specified data values to or from the current BUFR data subset within internal arrays, with the direction of the data transfer determined by the context of io.  <a href="readwriteval_8F90.html#a3f676e2267d902f8bc913a6d9d1a6aac">More...</a><br /></td></tr>
<tr class="separator:a3f676e2267d902f8bc913a6d9d1a6aac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a543d19ccf3a36ded022cbbe8db66ee85"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="readwriteval_8F90.html#a543d19ccf3a36ded022cbbe8db66ee85">ufbrw</a> (lun, usr, i1, i2, io, iret)</td></tr>
<tr class="memdesc:a543d19ccf3a36ded022cbbe8db66ee85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write or read specified values to or from the current BUFR data subset within internal arrays, with the direction of the data transfer determined by the context of io.  <a href="readwriteval_8F90.html#a543d19ccf3a36ded022cbbe8db66ee85">More...</a><br /></td></tr>
<tr class="separator:a543d19ccf3a36ded022cbbe8db66ee85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4895b24addb0b3e23f5bd92fd891656e"><td class="memItemLeft" align="right" valign="top">recursive subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="readwriteval_8F90.html#a4895b24addb0b3e23f5bd92fd891656e">ufbseq</a> (lunin, usr, i1, i2, iret, str)</td></tr>
<tr class="memdesc:a4895b24addb0b3e23f5bd92fd891656e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read or write an entire sequence of data values from or to a data subset.  <a href="readwriteval_8F90.html#a4895b24addb0b3e23f5bd92fd891656e">More...</a><br /></td></tr>
<tr class="separator:a4895b24addb0b3e23f5bd92fd891656e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7281bf7fbd6efa3a9be946f7d63cffad"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="readwriteval_8F90.html#a7281bf7fbd6efa3a9be946f7d63cffad">ufbsp</a> (lun, usr, i1, i2, io, iret)</td></tr>
<tr class="memdesc:a7281bf7fbd6efa3a9be946f7d63cffad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write or read specified values to or from the current BUFR data subset within internal arrays, with the direction of the data transfer determined by the context of io.  <a href="readwriteval_8F90.html#a7281bf7fbd6efa3a9be946f7d63cffad">More...</a><br /></td></tr>
<tr class="separator:a7281bf7fbd6efa3a9be946f7d63cffad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a921e4820b81e9f33e28a0d0452785a14"><td class="memItemLeft" align="right" valign="top">recursive subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="readwriteval_8F90.html#a921e4820b81e9f33e28a0d0452785a14">ufbstp</a> (lunin, usr, i1, i2, iret, str)</td></tr>
<tr class="memdesc:a921e4820b81e9f33e28a0d0452785a14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read or write one or more data values from or to a data subset.  <a href="readwriteval_8F90.html#a921e4820b81e9f33e28a0d0452785a14">More...</a><br /></td></tr>
<tr class="separator:a921e4820b81e9f33e28a0d0452785a14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecfa08f631e1af46b472c007b93b2955"><td class="memItemLeft" align="right" valign="top">recursive subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="readwriteval_8F90.html#aecfa08f631e1af46b472c007b93b2955">writlc</a> (lunit, chr, str)</td></tr>
<tr class="memdesc:aecfa08f631e1af46b472c007b93b2955"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a long character string (greater than 8 bytes) to a data subset.  <a href="readwriteval_8F90.html#aecfa08f631e1af46b472c007b93b2955">More...</a><br /></td></tr>
<tr class="separator:aecfa08f631e1af46b472c007b93b2955"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Read or write data values within a BUFR data subset. </p>
<dl class="section author"><dt>Authors</dt><dd>J. Woollen, J. Ator </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-01-06 </dd></dl>

<p class="definition">Definition in file <a class="el" href="readwriteval_8F90_source.html">readwriteval.F90</a>.</p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a8a84d615371869d93f16c8617575dee2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a84d615371869d93f16c8617575dee2">&#9670;&nbsp;</a></span>drfini()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">recursive subroutine drfini </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lunit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(*), intent(in)&#160;</td>
          <td class="paramname"><em>mdrf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>ndrf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*), intent(in)&#160;</td>
          <td class="paramname"><em>drftag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Explicitly initialize delayed replication factors and allocate a corresponding amount of space within internal arrays, thereby allowing the subsequent use of subroutine <a class="el" href="readwriteval_8F90.html#a4895b24addb0b3e23f5bd92fd891656e" title="Read or write an entire sequence of data values from or to a data subset.">ufbseq()</a> to write data into delayed replication sequences. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lunit</td><td>- Fortran logical unit number for BUFR file </td></tr>
    <tr><td class="paramname">mdrf</td><td>- Array of delayed replication factors, in one-to-one correspondence with the number of occurrences of drftag within the overall subset definition, and explicitly defining how much space (i.e. how many replications) to allocate within each successive occurrence </td></tr>
    <tr><td class="paramname">ndrf</td><td>- Number of delayed replication factors within mdrf </td></tr>
    <tr><td class="paramname">drftag</td><td>- Table D sequence mnemonic, bracketed by appropriate delayed replication notation (e.g. {}, () OR &lt;&gt;)</td></tr>
  </table>
  </dd>
</dl>
<p>Logical unit lunit should have already been opened for output operations (i.e. writing/encoding BUFR) via a previous call to subroutine <a class="el" href="openclosebf_8F90.html#a9dc7e4fb476a5528a958ee132ee6392d" title="Connect a new file to the NCEPLIBS-bufr software for input or output operations, or initialize the li...">openbf()</a>, and a message for output should have already been opened via a previous call to one of the [message-writing subroutines].</p>
<p>The use of this subroutine is only required when writing data into delayed replication sequences using <a class="el" href="readwriteval_8F90.html#a4895b24addb0b3e23f5bd92fd891656e" title="Read or write an entire sequence of data values from or to a data subset.">ufbseq()</a>, or for cases where <a class="el" href="readwriteval_8F90.html#a6eb38e7aa610c36787b90e50b290eea7" title="Read or write one or more data values from or to a data subset.">ufbint()</a> or <a class="el" href="readwriteval_8F90.html#af46dec3ef4cc6f467323b40eb14a4024" title="Read or write one or more data values from or to a data subset.">ufbrep()</a> are being used to write data into delayed replication sequences which occur more than once within an overall subset definition. In such cases, the use of this subroutine allows the application code to explicitly specify how many replications of the sequence are to be allocated to each occurrence of the delayed replication sequence within the overall subset definition, prior to storing all of the actual data values themselves via a single subsequent call to <a class="el" href="readwriteval_8F90.html#a6eb38e7aa610c36787b90e50b290eea7" title="Read or write one or more data values from or to a data subset.">ufbint()</a> or <a class="el" href="readwriteval_8F90.html#af46dec3ef4cc6f467323b40eb14a4024" title="Read or write one or more data values from or to a data subset.">ufbrep()</a>. In contrast, the use of this subroutine is not required when <a class="el" href="readwriteval_8F90.html#a6eb38e7aa610c36787b90e50b290eea7" title="Read or write one or more data values from or to a data subset.">ufbint()</a> or <a class="el" href="readwriteval_8F90.html#af46dec3ef4cc6f467323b40eb14a4024" title="Read or write one or more data values from or to a data subset.">ufbrep()</a> are to be called to store data values for a delayed replication sequence which only occurs one time within an overall subset definition, because in that case the same type of initialization and space allocation functionality will be automatically handled internally within subroutine <a class="el" href="readwriteval_8F90.html#a6eb38e7aa610c36787b90e50b290eea7" title="Read or write one or more data values from or to a data subset.">ufbint()</a> or <a class="el" href="readwriteval_8F90.html#af46dec3ef4cc6f467323b40eb14a4024" title="Read or write one or more data values from or to a data subset.">ufbrep()</a>.</p>
<dl class="section author"><dt>Author</dt><dd>J. Woollen </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2002-05-14 </dd></dl>

<p class="definition">Definition at line <a class="el" href="readwriteval_8F90_source.html#l01587">1587</a> of file <a class="el" href="readwriteval_8F90_source.html">readwriteval.F90</a>.</p>

<p class="reference">References <a class="el" href="namespacemoda__usrint.html#a7e27d4bdf5a372fd7dac8ede033f969e">moda_usrint::inv</a>, <a class="el" href="namespacemoda__tables.html#ab12171885e93720ae2716b4b1ecae251">moda_tables::itp</a>, <a class="el" href="namespacemoda__usrint.html#a2269ddd572fded029ca62080b38f6261">moda_usrint::nval</a>, <a class="el" href="openclosebf_8F90.html#abceda08f9c29378d3ddadeb46e823d00">status()</a>, <a class="el" href="namespacemoda__tables.html#a5f03be0ecd3fa7e059b9c74fb67cd4e4">moda_tables::tag</a>, <a class="el" href="readwritesb_8F90.html#a470af56bdf10d0b31292b0edac067597">usrtpl()</a>, and <a class="el" href="x4884_8F90.html#aa1e012dbd8da45797592cc65a399d71d">x84()</a>.</p>

</div>
</div>
<a id="a10cd831e6dc0a773534c5c2787da56c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10cd831e6dc0a773534c5c2787da56c8">&#9670;&nbsp;</a></span>getvalnb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">recursive real*8 function getvalnb </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lunit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*), intent(in)&#160;</td>
          <td class="paramname"><em>tagpv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>ntagpv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*), intent(in)&#160;</td>
          <td class="paramname"><em>tagnb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>ntagnb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a data value corresponding to a specific occurrence of a mnemonic within a data subset, based on its position relative to a different mnemonic within the subset. </p>
<p>The function first searches for a specific occurrence of a pivot mnemonic, counting from the beginning of the subset. From there, it then searches in either a forward or backward direction for a specific occurrence of a nearby mnemonic, and if found returns the data value from the corresponding location within the subset.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lunit</td><td>- Fortran logical unit number for BUFR file </td></tr>
    <tr><td class="paramname">tagpv</td><td>- Pivot mnemonic; the subroutine will first search for the (ntagpv)th occurrence of this mnemonic, counting from the beginning of the overall subset definition </td></tr>
    <tr><td class="paramname">ntagpv</td><td>- Ordinal occurrence of tagpv to search for, counting from the beginning of the overall subset definition </td></tr>
    <tr><td class="paramname">tagnb</td><td>- Nearby mnemonic; assuming tagpv is successfully found, the subroutine will then search nearby for the (ntagnb)th occurrence of tagnb and return the corresponding value </td></tr>
    <tr><td class="paramname">ntagnb</td><td>- Ordinal occurrence of tagnb to search for, counting from the location of tagpv within the overall subset definition<ul>
<li>If ntagnb is positive, the subroutine will search in a forward direction from the location of tagpv</li>
<li>If ntagnb is negative, the subroutine will search in a backwards direction from the location of tagpv </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>getvalnb - Value corresponding to (ntagnb)th occurrence of tagnb<ul>
<li>If for any reason this value cannot be located, then the current placeholder value for "missing" data will be returned instead</li>
</ul>
</dd></dl>
<p>The current placeholder value for "missing" data can be determined via a separate call to function <a class="el" href="missing_8F90.html#a2e6035695a459284e0592a2452b2f168" title="Get the current placeholder value which represents &quot;missing&quot; data when reading from or writing to BUF...">getbmiss()</a>.</p>
<p>Before calling this function, a BUFR data subset should already be open for reading via a previous call to one of the NCEPLIBS-bufr <a class="el" href="index.html#hierarchy">subset-reading subroutines</a>.</p>
<dl class="section author"><dt>Author</dt><dd>J. Ator </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2012-09-12 </dd></dl>

<p class="definition">Definition at line <a class="el" href="readwriteval_8F90_source.html#l00121">121</a> of file <a class="el" href="readwriteval_8F90_source.html">readwriteval.F90</a>.</p>

<p class="reference">References <a class="el" href="jumplink_8F90.html#a1587e1818caf4b04f1afc556c5c9813b">fstag()</a>, <a class="el" href="namespacemoda__msgcwd.html#a034d50224d3416c855472ead1043b1aa">moda_msgcwd::inode</a>, <a class="el" href="namespacemoda__usrint.html#a7e27d4bdf5a372fd7dac8ede033f969e">moda_usrint::inv</a>, <a class="el" href="openclosebf_8F90.html#abceda08f9c29378d3ddadeb46e823d00">status()</a>, <a class="el" href="namespacemoda__usrint.html#a7ad9ef51fc135aad9fcecba2a636f486">moda_usrint::val</a>, and <a class="el" href="x4884_8F90.html#aa1e012dbd8da45797592cc65a399d71d">x84()</a>.</p>

</div>
</div>
<a id="a551fbe590397eacf06bb471b738dd6a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a551fbe590397eacf06bb471b738dd6a5">&#9670;&nbsp;</a></span>hold4wlc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">recursive subroutine hold4wlc </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lunit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*), intent(in)&#160;</td>
          <td class="paramname"><em>chr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*), intent(in)&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a long character string (greater than 8 bytes) to a data subset. </p>
<p>Normally, subroutine <a class="el" href="readwriteval_8F90.html#aecfa08f631e1af46b472c007b93b2955" title="Write a long character string (greater than 8 bytes) to a data subset.">writlc()</a> is used to write a long character string to a data subset. However, subroutine <a class="el" href="readwriteval_8F90.html#aecfa08f631e1af46b472c007b93b2955" title="Write a long character string (greater than 8 bytes) to a data subset.">writlc()</a> can only be called <b>after</b> a call to one of the <a class="el" href="index.html#hierarchy">subset-writing subroutines</a>, so it will not work for cases when one of those subroutines flushes the message containing the data subset in question to logical unit lunit during the same call to that subroutine, such as when the data subset contains more than 65530 bytes. When this happens, there is no longer any way for a subsequent <a class="el" href="readwriteval_8F90.html#aecfa08f631e1af46b472c007b93b2955" title="Write a long character string (greater than 8 bytes) to a data subset.">writlc()</a> call to write a long character string into that data subset, because the data subset has already been flushed from internal memory. This subroutine solves that problem, by allowing a long character string to be specified <b>before</b> calling one of the <a class="el" href="index.html#hierarchy">subset-writing subroutines</a>, and the string value will be held and stored automatically (via an internal call to subroutine <a class="el" href="readwriteval_8F90.html#aecfa08f631e1af46b472c007b93b2955" title="Write a long character string (greater than 8 bytes) to a data subset.">writlc()</a>) at the proper time during the subsequent call to the <a class="el" href="index.html#hierarchy">subset-writing subroutines</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lunit</td><td>- Fortran logical unit number for BUFR file </td></tr>
    <tr><td class="paramname">chr</td><td>- Value corresponding to str </td></tr>
    <tr><td class="paramname">str</td><td>- Table B mnemonic of long character string to be written, possibly supplemented with an ordinal occurrence notation</td></tr>
  </table>
  </dd>
</dl>
<p>If there is more than one occurrence of str within the data subset definition, then each occurrence can be written via a separate call to this subroutine, and by appending the ordinal number of the occurrence to str in each case. For example, if there are 5 occurrences of mnemonic LSTID within a given data subset definition, then 5 separate calls should be made to this subroutine, once each with str set to 'LSTID#1', 'LSTID#2', 'LSTID#3', 'LSTID#4' and 'LSTID#5'. However, the first notation is superfluous, because omitting the ordinal number always defaults to the first occurrence of a particular string, so a user could just specify 'LSTID' instead of 'LSTID#1'.</p>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>Character strings which are 8 bytes or less in length can be written by converting the string into a real*8 value within the application program, and then using the real*8 usr array within a call to one of the NCEPLIBS-bufr <a class="el" href="index.html#hierarchy">values-writing subroutines</a> prior to calling one of the <a class="el" href="index.html#hierarchy">subset-writing subroutines</a> for the data subset.</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>J. Ator </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2014-02-05 </dd></dl>

<p class="definition">Definition at line <a class="el" href="readwriteval_8F90_source.html#l01977">1977</a> of file <a class="el" href="readwriteval_8F90_source.html">readwriteval.F90</a>.</p>

<p class="reference">References <a class="el" href="namespacemoda__h4wlc.html#afbc0cd7c0f91147bca16c7fd909a0d75">moda_h4wlc::chh4wlc</a>, <a class="el" href="errwrt_8F90.html#a9c4c22af6c77235db8ddd7f41594f543">errwrt()</a>, <a class="el" href="namespacemoda__h4wlc.html#aec0b91e9c09fffd506b27ea574b7da71">moda_h4wlc::luh4wlc</a>, <a class="el" href="namespacemoda__h4wlc.html#a013b7b1f0e72002222c0ee2ae5a3dcac">moda_h4wlc::nh4wlc</a>, <a class="el" href="namespacemoda__h4wlc.html#a25deca91911dc2223155e55c8b47f889">moda_h4wlc::sth4wlc</a>, <a class="el" href="misc_8F90.html#ab18db8197d0e5256ff5dfd2f26304d28">strsuc()</a>, and <a class="el" href="x4884_8F90.html#aa1e012dbd8da45797592cc65a399d71d">x84()</a>.</p>

</div>
</div>
<a id="a2017ce90611078ae96c6bc12da4e8e02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2017ce90611078ae96c6bc12da4e8e02">&#9670;&nbsp;</a></span>nevn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">integer function nevn </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>inv1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>inv2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8, dimension(i1,i2,i3), intent(out)&#160;</td>
          <td class="paramname"><em>usr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read one or more data values from a stacked data event within a specified portion of the current data subset. </p>
<p>Search for all stacked data events within the portion of the current subset buffer bounded by the indices inv1 and inv2. All such events are accumulated and returned to the calling program within array usr. The value of the function itself is the total number of events found.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>- Jump/link table index of node for which to return stacked values </td></tr>
    <tr><td class="paramname">lun</td><td>- File ID </td></tr>
    <tr><td class="paramname">inv1</td><td>- Starting index of the portion of the subset buffer in which to look for stack values </td></tr>
    <tr><td class="paramname">inv2</td><td>- Ending index of the portion of the subset buffer in which to look for stack values </td></tr>
    <tr><td class="paramname">i1</td><td>- First dimension of usr as allocated within the calling program </td></tr>
    <tr><td class="paramname">i2</td><td>- Second dimension of usr as allocated within the calling program </td></tr>
    <tr><td class="paramname">i3</td><td>- Third dimension of usr as allocated within the calling program </td></tr>
    <tr><td class="paramname">usr</td><td>- Starting address of data values read from data subset; events are returned in the third dimension for a particular data value and level in the first and second dimensions </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- Number of events in stack (must be less than or equal to i3)</dd></dl>
<dl class="section note"><dt>Note</dt><dd>: This routine should only be called by routine <a class="el" href="readwriteval_8F90.html#a1ac6ef2be222bff2bab58e3f58f5d67e" title="Read one or more data values from an NCEP prepfits file.">ufbin3()</a>, which itself is called only by verification application program gridtobs, where it was previously an in-line subroutine. In general, <a class="el" href="readwriteval_8F90.html#a2017ce90611078ae96c6bc12da4e8e02" title="Read one or more data values from a stacked data event within a specified portion of the current data...">nevn()</a> does not work properly in other application programs at this time.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>J. Woollen </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2003-11-04 </dd></dl>

<p class="definition">Definition at line <a class="el" href="readwriteval_8F90_source.html#l02888">2888</a> of file <a class="el" href="readwriteval_8F90_source.html">readwriteval.F90</a>.</p>

<p class="reference">References <a class="el" href="borts_8F90.html#adc4659c5e9171f22248cf61e054ddd17">bort()</a>, <a class="el" href="namespacemoda__usrint.html#a7e27d4bdf5a372fd7dac8ede033f969e">moda_usrint::inv</a>, <a class="el" href="jumplink_8F90.html#ab4cc1160c451fcd8709a46f32515ca3c">invwin()</a>, <a class="el" href="jumplink_8F90.html#a46ebb8c05619d2580397218ff36f4a9b">lstjpb()</a>, and <a class="el" href="namespacemoda__usrint.html#a7ad9ef51fc135aad9fcecba2a636f486">moda_usrint::val</a>.</p>

<p class="reference">Referenced by <a class="el" href="readwriteval_8F90.html#a1ac6ef2be222bff2bab58e3f58f5d67e">ufbin3()</a>.</p>

</div>
</div>
<a id="aad0d9cae550b97bc950c739ff44ca6b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad0d9cae550b97bc950c739ff44ca6b2">&#9670;&nbsp;</a></span>readlc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">recursive subroutine readlc </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lunit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*), intent(out)&#160;</td>
          <td class="paramname"><em>chr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*), intent(in)&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a long character string (greater than 8 bytes) from a data subset. </p>
<p>The data subset should have already been read into internal arrays via a previous call to one of the <a class="el" href="index.html#hierarchy">subset-reading subroutines</a>.</p>
<p>If there is more than one occurrence of str within the data subset definition, then each occurrence can be retrieved via a separate call to this subroutine, and by appending the ordinal number of the occurrence to str in each case.</p>
<p>For example, if there are 5 occurrences of mnemonic LSTID within a given data subset definition, then 5 separate calls should be made to this subroutine, once each with str set to 'LSTID#1', 'LSTID#2', 'LSTID#3', 'LSTID#4' and 'LSTID#5'.</p>
<p>Omitting the ordinal number always defaults to the first occurrence of a particular string, so a user could just specify 'LSTID' instead of 'LSTID#1'.</p>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>Character strings which are 8 bytes or less in length can be read using the real*8 usr array within a call to one of the NCEPLIBS-bufr <a class="el" href="index.html#hierarchy">values-reading subroutines</a> and then converting the corresponding real*8 value to character format within the application program.</li>
<li>If str is not found within the data subset definition, then chr is returned with all bits set to 1, which is the standard WMO BUFR value for "missing" data. Any chr value returned by this subroutine can be checked for equivalence to this "missing" value via a call to function <a class="el" href="missing_8F90.html#a5f3cd824b4ddd60e635ec591d285b23f" title="Check whether a character string returned from a previous call to subroutine readlc() was encoded as ...">icbfms()</a>.</li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lunit</td><td>- Fortran logical unit number for BUFR file </td></tr>
    <tr><td class="paramname">chr</td><td>- Value corresponding to STR </td></tr>
    <tr><td class="paramname">str</td><td>- Table B mnemonic of long character string to be retrieved, possibly supplemented with an ordinal occurrence notation</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Authors</dt><dd>J. Woollen J. Ator </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2003-11-04 </dd></dl>

<p class="definition">Definition at line <a class="el" href="readwriteval_8F90_source.html#l00406">406</a> of file <a class="el" href="readwriteval_8F90_source.html">readwriteval.F90</a>.</p>

<p class="reference">References <a class="el" href="borts_8F90.html#adc4659c5e9171f22248cf61e054ddd17">bort()</a>, <a class="el" href="namespacemoda__rlccmn.html#acaa72aa1ab54d9a7a82f83e58c8aeed1">moda_rlccmn::crtag</a>, <a class="el" href="errwrt_8F90.html#a9c4c22af6c77235db8ddd7f41594f543">errwrt()</a>, <a class="el" href="namespacemoda__usrint.html#a7e27d4bdf5a372fd7dac8ede033f969e">moda_usrint::inv</a>, <a class="el" href="ciencode_8F90.html#a8e976b63f679f03590d7c3cb5b5dee59">ipkm()</a>, <a class="el" href="namespacemoda__rlccmn.html#a90cc348c7156330efc75a45e5e5860ca">moda_rlccmn::irbit</a>, <a class="el" href="namespacemoda__rlccmn.html#a76b8845911215f91b5a91128facb7cbd">moda_rlccmn::irnch</a>, <a class="el" href="namespacemoda__tables.html#ab12171885e93720ae2716b4b1ecae251">moda_tables::itp</a>, <a class="el" href="namespacemoda__bitbuf.html#aad8a1595878ac1a9907c708067c4c050">moda_bitbuf::mbay</a>, <a class="el" href="namespacemoda__usrbit.html#ab5ade5e51c2620a6e6be9cad890baf7a">moda_usrbit::mbit</a>, <a class="el" href="namespacemoda__unptyp.html#abc7e7be12befacea858a7f249c9425ca">moda_unptyp::msgunp</a>, <a class="el" href="namespacemoda__usrbit.html#a99268fc2b9168fcbbd5f8ab70e6da0b7">moda_usrbit::nbit</a>, <a class="el" href="namespacemoda__rlccmn.html#a6ee3ae8f4cfb91d15189834b8b62d41f">moda_rlccmn::nrst</a>, <a class="el" href="namespacemoda__usrint.html#a2269ddd572fded029ca62080b38f6261">moda_usrint::nval</a>, <a class="el" href="strings_8F90.html#a1d493e7de1c23739a0fcd06089139f35">parstr()</a>, <a class="el" href="strings_8F90.html#a2da1c300ec049ee215d937b5ab545f53">parutg()</a>, <a class="el" href="openclosebf_8F90.html#abceda08f9c29378d3ddadeb46e823d00">status()</a>, <a class="el" href="namespacemoda__tables.html#a5f03be0ecd3fa7e059b9c74fb67cd4e4">moda_tables::tag</a>, <a class="el" href="cidecode_8F90.html#afef1c199ce8e69b085435b74d68cd337">upc()</a>, and <a class="el" href="x4884_8F90.html#aa1e012dbd8da45797592cc65a399d71d">x84()</a>.</p>

<p class="reference">Referenced by <a class="el" href="namespacebufr__c2f__interface.html#acce5eddf8c8e56d5b47d45251ac75abc">bufr_c2f_interface::readlc_c()</a>, <a class="el" href="dumpdata_8F90.html#ad4fdbfc4ae3890133d9204a881541a1a">ufbdmp()</a>, <a class="el" href="dumpdata_8F90.html#a20fa33f6e0fcb0816c4b070c73362539">ufdump()</a>, and <a class="el" href="readwritesb_8F90.html#a2324e7f253ba3ad6209d7ab0fce5bc0e">wrtree()</a>.</p>

</div>
</div>
<a id="ac8bbcb32a65a5acdf50e0f5d835c6ac2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8bbcb32a65a5acdf50e0f5d835c6ac2">&#9670;&nbsp;</a></span>setvalnb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">recursive subroutine setvalnb </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lunit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*), intent(in)&#160;</td>
          <td class="paramname"><em>tagpv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>ntagpv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*), intent(in)&#160;</td>
          <td class="paramname"><em>tagnb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>ntagnb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8, intent(in)&#160;</td>
          <td class="paramname"><em>r8val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a data value corresponding to a specific occurrence of a mnemonic within a data subset, based on its position relative to a different mnemonic within the subset. </p>
<p>The subroutine first searches for a specific occurrence of a pivot mnemonic, counting from the beginning of the subset. From there, it then searches in either a forward or backward direction for a specific occurrence of a nearby mnemonic, and if found stores the specified data value in the corresponding location within the subset.</p>
<p>Before calling this subroutine, a BUFR message should already be opened and initialized for output via a previous call to one of the NCEPLIBS-bufr <a class="el" href="index.html#hierarchy">message-writing subroutines</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lunit</td><td>- Fortran logical unit number for BUFR file </td></tr>
    <tr><td class="paramname">tagpv</td><td>- Pivot mnemonic; the subroutine will first search for the (ntagpv)th occurrence of this mnemonic, counting from the beginning of the overall subset definition </td></tr>
    <tr><td class="paramname">ntagpv</td><td>- Ordinal occurrence of tagpv to search for, counting from the beginning of the overall subset definition </td></tr>
    <tr><td class="paramname">tagnb</td><td>- Nearby mnemonic; assuming tagpv is successfully found, the subroutine will then search nearby for the (ntagnb)th occurrence of tagnb and store r8val as the corresponding value </td></tr>
    <tr><td class="paramname">ntagnb</td><td>- Ordinal occurrence of tagnb to search for, counting from the location of tagpv within the overall subset definition<ul>
<li>If ntagnb is positive, the subroutine will search in a forward direction from the location of tagpv</li>
<li>If ntagnb is negative, the subroutine will search in a backwards direction from the location of tagpv </li>
</ul>
</td></tr>
    <tr><td class="paramname">r8val</td><td>- Value to be stored corresponding to (ntagnb)th occurrence of tagnb within the subset </td></tr>
    <tr><td class="paramname">iret</td><td>- return code:<ul>
<li>0 = r8val was successfully stored</li>
<li>-1 = the (ntagnb)th occurence of mnemonic tagnb could not be found, or some other error occurred</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>J. Ator </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2016-07-29 </dd></dl>

<p class="definition">Definition at line <a class="el" href="readwriteval_8F90_source.html#l00037">37</a> of file <a class="el" href="readwriteval_8F90_source.html">readwriteval.F90</a>.</p>

<p class="reference">References <a class="el" href="jumplink_8F90.html#a1587e1818caf4b04f1afc556c5c9813b">fstag()</a>, <a class="el" href="namespacemoda__msgcwd.html#a034d50224d3416c855472ead1043b1aa">moda_msgcwd::inode</a>, <a class="el" href="namespacemoda__usrint.html#a7e27d4bdf5a372fd7dac8ede033f969e">moda_usrint::inv</a>, <a class="el" href="openclosebf_8F90.html#abceda08f9c29378d3ddadeb46e823d00">status()</a>, <a class="el" href="namespacemoda__usrint.html#a7ad9ef51fc135aad9fcecba2a636f486">moda_usrint::val</a>, <a class="el" href="x4884_8F90.html#a5b19b8932da48639e6bcaeefc4d03bfb">x48()</a>, and <a class="el" href="x4884_8F90.html#aa1e012dbd8da45797592cc65a399d71d">x84()</a>.</p>

</div>
</div>
<a id="a79d01683a99ab7e6a31359c00c317bd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79d01683a99ab7e6a31359c00c317bd8">&#9670;&nbsp;</a></span>trybump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine trybump </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8, dimension(i1,i2), intent(inout)&#160;</td>
          <td class="paramname"><em>usr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try to expand a delayed replication sequence. </p>
<p>Check the first node associated with a character string (parsed into arrays in common block /usrstr/) in order to determine if it represents a delayed replication sequence. If so, then the delayed replication sequence is initialized and expanded (i.e. "bumped") to the value of input argument i2. A call is then made to subroutine <a class="el" href="readwriteval_8F90.html#a543d19ccf3a36ded022cbbe8db66ee85" title="Write or read specified values to or from the current BUFR data subset within internal arrays,...">ufbrw()</a> in order to write user data into the newly expanded replication sequence.</p>
<p>This subroutine is usually called from <a class="el" href="readwriteval_8F90.html#a6eb38e7aa610c36787b90e50b290eea7" title="Read or write one or more data values from or to a data subset.">ufbint()</a> whenever that routine receives a non-zero return code from <a class="el" href="readwriteval_8F90.html#a543d19ccf3a36ded022cbbe8db66ee85" title="Write or read specified values to or from the current BUFR data subset within internal arrays,...">ufbrw()</a>. The cause of a bad return from <a class="el" href="readwriteval_8F90.html#a543d19ccf3a36ded022cbbe8db66ee85" title="Write or read specified values to or from the current BUFR data subset within internal arrays,...">ufbrw()</a> is usually a delayed replication sequence which isn't expanded enough to hold the array of data the user is trying to write. So this subroutine is one last chance to try to resolve that situation.</p>
<dl class="section note"><dt>Note</dt><dd>Argument io is always passed in with a value of 1 at the present time. In the future the subroutine may be expanded to allow it to operate on input files.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lun</td><td>- File ID </td></tr>
    <tr><td class="paramname">usr</td><td>- Data values </td></tr>
    <tr><td class="paramname">i1</td><td>- First dimension of usr as allocated within the calling program </td></tr>
    <tr><td class="paramname">i2</td><td>- Number of levels of data values that are to be written to the data subset </td></tr>
    <tr><td class="paramname">io</td><td>- Status indicator for BUFR file:<ul>
<li>0 = Input file (possible future use)</li>
<li>1 = Output file </li>
</ul>
</td></tr>
    <tr><td class="paramname">iret</td><td>- Number of ldevels of data values that were written to the data subset</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Woollen </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-01-06 </dd></dl>

<p class="definition">Definition at line <a class="el" href="readwriteval_8F90_source.html#l02068">2068</a> of file <a class="el" href="readwriteval_8F90_source.html">readwriteval.F90</a>.</p>

<p class="reference">References <a class="el" href="namespacemoda__usrint.html#a7e27d4bdf5a372fd7dac8ede033f969e">moda_usrint::inv</a>, <a class="el" href="namespacemoda__usrint.html#a2269ddd572fded029ca62080b38f6261">moda_usrint::nval</a>, <a class="el" href="readwriteval_8F90.html#a543d19ccf3a36ded022cbbe8db66ee85">ufbrw()</a>, <a class="el" href="readwritesb_8F90.html#a470af56bdf10d0b31292b0edac067597">usrtpl()</a>, and <a class="el" href="namespacemoda__usrint.html#a7ad9ef51fc135aad9fcecba2a636f486">moda_usrint::val</a>.</p>

<p class="reference">Referenced by <a class="el" href="readwriteval_8F90.html#a6eb38e7aa610c36787b90e50b290eea7">ufbint()</a>, and <a class="el" href="readwriteval_8F90.html#a62aacb5a102aaf1ee01deef68c63cdb8">ufbovr()</a>.</p>

</div>
</div>
<a id="ad0c9f5c0f8e4dc0e1ebd7c685b9a5ba9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0c9f5c0f8e4dc0e1ebd7c685b9a5ba9">&#9670;&nbsp;</a></span>ufbevn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">recursive subroutine ufbevn </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lunit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8, dimension(i1,i2,i3), intent(out)&#160;</td>
          <td class="paramname"><em>usr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*), intent(in)&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read one or more data values from an NCEP prepbufr file. </p>
<p>This subroutine is specifically designed for use with NCEP prepbufr files, which contain a third dimension of data events for every reported data value at every replicated vertical level. It is similar to subroutine <a class="el" href="readwriteval_8F90.html#a1ac6ef2be222bff2bab58e3f58f5d67e" title="Read one or more data values from an NCEP prepfits file.">ufbin3()</a>, except that <a class="el" href="readwriteval_8F90.html#a1ac6ef2be222bff2bab58e3f58f5d67e" title="Read one or more data values from an NCEP prepfits file.">ufbin3()</a> is used for NCEP prepfits files and has one extra argument containing the maximum number of data events for any data value, whereas this subroutine is used for NCEP prepbufr files and stores the same information internally within a common block.</p>
<p>It is the user's responsibility to ensure that usr is dimensioned sufficiently large enough to accommodate the number of data values that are to be read from the data subset. Note also that usr is an array of real*8 values; therefore, any character (i.e. CCITT IA5) value in the data subset will be returned in real*8 format and must be converted back into character format by the application program before it can be used as such.</p>
<p>"Missing" values in usr are always denoted by a unique placeholder value. This placeholder value is initially set to a default value of 10E10_8, but it can be reset to any substitute value of the user's choice via a separate call to subroutine <a class="el" href="missing_8F90.html#a65fba06ac4fb69670084ee11746bdd9f" title="Specify a customized value to represent &quot;missing&quot; data when reading from or writing to BUFR files.">setbmiss()</a>. In any case, any returned value in usr can be easily checked for equivalence to the current placeholder value via a call to function <a class="el" href="missing_8F90.html#a7dd66484c8bf4dd8d8e3791d02715e86" title="Check whether a real*8 data value returned from a previous call to any of the NCEPLIBS-bufr values-re...">ibfms()</a>, and a positive result means that the value for the corresponding mnemonic was encoded as "missing" in BUFR (i.e. all bits set to 1) within the original data subset.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lunit</td><td>- Fortran logical unit number for NCEP prepbufr file </td></tr>
    <tr><td class="paramname">usr</td><td>- Data values </td></tr>
    <tr><td class="paramname">i1</td><td>- First dimension of usr as allocated within the calling program </td></tr>
    <tr><td class="paramname">i2</td><td>- Second dimension of usr as allocated within the calling program </td></tr>
    <tr><td class="paramname">i3</td><td>- Third dimension of usr as allocated within the calling program </td></tr>
    <tr><td class="paramname">iret</td><td>- Number of replications of str that were read from the data subset, corresponding to the second dimension of usr </td></tr>
    <tr><td class="paramname">str</td><td>- String of blank-separated Table B mnemonics in one-to-one correspondence with the number of data values that will be read/written from/to the data subset within the first dimension of usr (see <a class="el" href="md__home_runner_work_NCEPLIBS_bufr_NCEPLIBS_bufr_bufr_docs_dx_tables.html#dfbftab">DX BUFR Tables</a> for further information about Table B mnemonics)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>J. Woollen </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-01-06 </dd></dl>

<p class="definition">Definition at line <a class="el" href="readwriteval_8F90_source.html#l02267">2267</a> of file <a class="el" href="readwriteval_8F90_source.html">readwriteval.F90</a>.</p>

<p class="reference">References <a class="el" href="borts_8F90.html#adc4659c5e9171f22248cf61e054ddd17">bort()</a>, <a class="el" href="jumplink_8F90.html#ac33dc42cbccbf054fa1c72b4bed5e90e">conwin()</a>, <a class="el" href="errwrt_8F90.html#a9c4c22af6c77235db8ddd7f41594f543">errwrt()</a>, <a class="el" href="jumplink_8F90.html#af10a8f5f84135d80474c70f06be65b73">getwin()</a>, <a class="el" href="namespacemoda__msgcwd.html#a034d50224d3416c855472ead1043b1aa">moda_msgcwd::inode</a>, <a class="el" href="namespacemoda__usrint.html#a7e27d4bdf5a372fd7dac8ede033f969e">moda_usrint::inv</a>, <a class="el" href="jumplink_8F90.html#a32fa4aca38700d53dd9899f93b9b3636">nvnwin()</a>, <a class="el" href="jumplink_8F90.html#a8a7a4ff46107f36ae57dd76442bd2447">nxtwin()</a>, <a class="el" href="openclosebf_8F90.html#abceda08f9c29378d3ddadeb46e823d00">status()</a>, <a class="el" href="strings_8F90.html#aa3112b3661ec475fe7949d9ae5bafb40">string()</a>, <a class="el" href="namespacemoda__usrint.html#a7ad9ef51fc135aad9fcecba2a636f486">moda_usrint::val</a>, <a class="el" href="x4884_8F90.html#a5b19b8932da48639e6bcaeefc4d03bfb">x48()</a>, and <a class="el" href="x4884_8F90.html#aa1e012dbd8da45797592cc65a399d71d">x84()</a>.</p>

</div>
</div>
<a id="aee2899967d88055f73e4d5ad954d7b5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee2899967d88055f73e4d5ad954d7b5a">&#9670;&nbsp;</a></span>ufbget()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">recursive subroutine ufbget </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lunit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8, dimension(i1), intent(out)&#160;</td>
          <td class="paramname"><em>tab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*), intent(in)&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read one or more data values from a data subset without advancing the subset pointer. </p>
<p>The data values to be read must be one-dimensional (i.e. non-replicated).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lunit</td><td>- Fortran logical unit number for BUFR file </td></tr>
    <tr><td class="paramname">tab</td><td>- Data values </td></tr>
    <tr><td class="paramname">i1</td><td>- Size of tab as allocated within the calling program </td></tr>
    <tr><td class="paramname">iret</td><td>- Return code:<ul>
<li>0 = Normal return</li>
<li>-1 = There are no more subsets in the BUFR message </li>
</ul>
</td></tr>
    <tr><td class="paramname">str</td><td>- String of blank-separated Table B mnemonics in one-to-one correspondence with the number of data values that will be read from the data subset into tab</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Woollen </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-01-06 </dd></dl>

<p class="definition">Definition at line <a class="el" href="readwriteval_8F90_source.html#l02756">2756</a> of file <a class="el" href="readwriteval_8F90_source.html">readwriteval.F90</a>.</p>

<p class="reference">References <a class="el" href="borts_8F90.html#adc4659c5e9171f22248cf61e054ddd17">bort()</a>, <a class="el" href="namespacemoda__tables.html#a1ff254e3c0f169340a16225a17c5a2c2">moda_tables::ibt</a>, <a class="el" href="namespacemoda__usrint.html#a7e27d4bdf5a372fd7dac8ede033f969e">moda_usrint::inv</a>, <a class="el" href="jumplink_8F90.html#ab4cc1160c451fcd8709a46f32515ca3c">invwin()</a>, <a class="el" href="namespacemoda__tables.html#ab12171885e93720ae2716b4b1ecae251">moda_tables::itp</a>, <a class="el" href="namespacemoda__bitbuf.html#aad8a1595878ac1a9907c708067c4c050">moda_bitbuf::mbay</a>, <a class="el" href="namespacemoda__usrbit.html#ab5ade5e51c2620a6e6be9cad890baf7a">moda_usrbit::mbit</a>, <a class="el" href="namespacemoda__bitbuf.html#acfcd2b4391b00ae43bdb026de8573c7a">moda_bitbuf::mbyt</a>, <a class="el" href="namespacemoda__msgcwd.html#aaf25479459e35ef12ce20eecfc632295">moda_msgcwd::msub</a>, <a class="el" href="namespacemoda__usrbit.html#a99268fc2b9168fcbbd5f8ab70e6da0b7">moda_usrbit::nbit</a>, <a class="el" href="namespacemoda__msgcwd.html#ac477545b5d44685da84af7f23d7baa59">moda_msgcwd::nsub</a>, <a class="el" href="namespacemoda__usrint.html#a2269ddd572fded029ca62080b38f6261">moda_usrint::nval</a>, <a class="el" href="openclosebf_8F90.html#abceda08f9c29378d3ddadeb46e823d00">status()</a>, <a class="el" href="strings_8F90.html#aa3112b3661ec475fe7949d9ae5bafb40">string()</a>, <a class="el" href="cidecode_8F90.html#a25ce428c1ae2bcb567fc2762fabf4317">upb8()</a>, <a class="el" href="cidecode_8F90.html#afef1c199ce8e69b085435b74d68cd337">upc()</a>, <a class="el" href="cidecode_8F90.html#a414b81ace5368c9bb43fdd19442ebaa5">ups()</a>, <a class="el" href="readwritesb_8F90.html#a470af56bdf10d0b31292b0edac067597">usrtpl()</a>, <a class="el" href="x4884_8F90.html#a5b19b8932da48639e6bcaeefc4d03bfb">x48()</a>, and <a class="el" href="x4884_8F90.html#aa1e012dbd8da45797592cc65a399d71d">x84()</a>.</p>

</div>
</div>
<a id="a1ac6ef2be222bff2bab58e3f58f5d67e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ac6ef2be222bff2bab58e3f58f5d67e">&#9670;&nbsp;</a></span>ufbin3()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">recursive subroutine ufbin3 </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lunit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8, dimension(i1,i2,i3), intent(out)&#160;</td>
          <td class="paramname"><em>usr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>jret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*), intent(in)&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read one or more data values from an NCEP prepfits file. </p>
<p>This subroutine is specifically designed for use with NCEP prepfits files, which contain a third dimension of data events for every reported data value at every replicated vertical level. It is similar to subroutine <a class="el" href="readwriteval_8F90.html#ad0c9f5c0f8e4dc0e1ebd7c685b9a5ba9" title="Read one or more data values from an NCEP prepbufr file.">ufbevn()</a>, except that <a class="el" href="readwriteval_8F90.html#ad0c9f5c0f8e4dc0e1ebd7c685b9a5ba9" title="Read one or more data values from an NCEP prepbufr file.">ufbevn()</a> is used for NCEP prepbufr files and stores the maximum number of data events for any data value within an internal common block, whereas this subroutine is used for NCEP prepfits files and has one extra argument which returns the same information to the calling program.</p>
<p>It is the user's responsibility to ensure that usr is dimensioned sufficiently large enough to accommodate the number of data values that are to be read from the data subset. Note also that usr is an array of real*8 values; therefore, any character (i.e. CCITT IA5) value in the data subset will be returned in real*8 format and must be converted back into character format by the application program before it can be used as such.</p>
<p>"Missing" values in usr are always denoted by a unique placeholder value. This placeholder value is initially set to a default value of 10E10_8, but it can be reset to any substitute value of the user's choice via a separate call to subroutine <a class="el" href="missing_8F90.html#a65fba06ac4fb69670084ee11746bdd9f" title="Specify a customized value to represent &quot;missing&quot; data when reading from or writing to BUFR files.">setbmiss()</a>. In any case, any returned value in usr can be easily checked for equivalence to the current placeholder value via a call to function <a class="el" href="missing_8F90.html#a7dd66484c8bf4dd8d8e3791d02715e86" title="Check whether a real*8 data value returned from a previous call to any of the NCEPLIBS-bufr values-re...">ibfms()</a>, and a positive result means that the value for the corresponding mnemonic was encoded as "missing" in BUFR (i.e. all bits set to 1) within the original data subset.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lunit</td><td>- Fortran logical unit number for NCEP prepfits file </td></tr>
    <tr><td class="paramname">usr</td><td>- Data values </td></tr>
    <tr><td class="paramname">i1</td><td>- First dimension of usr as allocated within the calling program </td></tr>
    <tr><td class="paramname">i2</td><td>- Second dimension of usr as allocated within the calling program </td></tr>
    <tr><td class="paramname">i3</td><td>- Third dimension of usr as allocated within the calling program </td></tr>
    <tr><td class="paramname">iret</td><td>- Number of replications of str that were read from the data subset, corresponding to the second dimension of usr </td></tr>
    <tr><td class="paramname">jret</td><td>- Maximum number of data events for any data value that was read from the data subset at any replicated vertical level, and corresponding to the third dimension of usr </td></tr>
    <tr><td class="paramname">str</td><td>- String of blank-separated Table B mnemonics in one-to-one correspondence with the number of data values that will be read/written from/to the data subset within the first dimension of usr (see <a class="el" href="md__home_runner_work_NCEPLIBS_bufr_NCEPLIBS_bufr_bufr_docs_dx_tables.html#dfbftab">DX BUFR Tables</a> for further information about Table B mnemonics)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>J. Woollen </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2003-11-04 </dd></dl>

<p class="definition">Definition at line <a class="el" href="readwriteval_8F90_source.html#l02471">2471</a> of file <a class="el" href="readwriteval_8F90_source.html">readwriteval.F90</a>.</p>

<p class="reference">References <a class="el" href="borts_8F90.html#adc4659c5e9171f22248cf61e054ddd17">bort()</a>, <a class="el" href="jumplink_8F90.html#ac33dc42cbccbf054fa1c72b4bed5e90e">conwin()</a>, <a class="el" href="errwrt_8F90.html#a9c4c22af6c77235db8ddd7f41594f543">errwrt()</a>, <a class="el" href="jumplink_8F90.html#af10a8f5f84135d80474c70f06be65b73">getwin()</a>, <a class="el" href="namespacemoda__msgcwd.html#a034d50224d3416c855472ead1043b1aa">moda_msgcwd::inode</a>, <a class="el" href="namespacemoda__usrint.html#a7e27d4bdf5a372fd7dac8ede033f969e">moda_usrint::inv</a>, <a class="el" href="readwriteval_8F90.html#a2017ce90611078ae96c6bc12da4e8e02">nevn()</a>, <a class="el" href="jumplink_8F90.html#a8a7a4ff46107f36ae57dd76442bd2447">nxtwin()</a>, <a class="el" href="openclosebf_8F90.html#abceda08f9c29378d3ddadeb46e823d00">status()</a>, <a class="el" href="strings_8F90.html#aa3112b3661ec475fe7949d9ae5bafb40">string()</a>, <a class="el" href="x4884_8F90.html#a5b19b8932da48639e6bcaeefc4d03bfb">x48()</a>, and <a class="el" href="x4884_8F90.html#aa1e012dbd8da45797592cc65a399d71d">x84()</a>.</p>

</div>
</div>
<a id="a6eb38e7aa610c36787b90e50b290eea7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6eb38e7aa610c36787b90e50b290eea7">&#9670;&nbsp;</a></span>ufbint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">recursive subroutine ufbint </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lunin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8, dimension(i1,i2), intent(inout)&#160;</td>
          <td class="paramname"><em>usr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*), intent(in)&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read or write one or more data values from or to a data subset. </p>
<p>The direction of the data transfer is determined by the context of abs(lunin):</p><ul>
<li>If abs(lunin) points to a file that was previously opened for input using subroutine <a class="el" href="openclosebf_8F90.html#a9dc7e4fb476a5528a958ee132ee6392d" title="Connect a new file to the NCEPLIBS-bufr software for input or output operations, or initialize the li...">openbf()</a>, then data values are read from the current data subset.</li>
<li>If abs(lunin) points to a file that was previously opened for output using subroutine <a class="el" href="openclosebf_8F90.html#a9dc7e4fb476a5528a958ee132ee6392d" title="Connect a new file to the NCEPLIBS-bufr software for input or output operations, or initialize the li...">openbf()</a>, then data values are written to the current data subset.</li>
</ul>
<p>This subroutine is specifically designed for use with Table B mnemonics which are part of a delayed-replication sequence, or for which there is no replication at all. See also subroutines <a class="el" href="readwriteval_8F90.html#af46dec3ef4cc6f467323b40eb14a4024" title="Read or write one or more data values from or to a data subset.">ufbrep()</a>, <a class="el" href="readwriteval_8F90.html#a4895b24addb0b3e23f5bd92fd891656e" title="Read or write an entire sequence of data values from or to a data subset.">ufbseq()</a> and <a class="el" href="readwriteval_8F90.html#a921e4820b81e9f33e28a0d0452785a14" title="Read or write one or more data values from or to a data subset.">ufbstp()</a>, which can also be used to read/write one or more data values from/to a data subset but are designed for different use cases. A more detailed discussion of these different use cases, including examples, is available in <a class="el" href="md__home_runner_work_NCEPLIBS_bufr_NCEPLIBS_bufr_bufr_docs_dx_tables.html#ufbsubs">DX BUFR Tables</a>.</p>
<p>It is the user's responsibility to ensure that usr is dimensioned sufficiently large enough to accommodate the number of data values that are to be read from or written to the data subset. Note also that usr is an array of real*8 values; therefore, any data that are to be written out as character (i.e. CCITT IA5) values in BUFR must be converted from character into real*8 format within the application program before calling this subroutine. Conversely, when this subroutine is being used to read character values from a data subset, the value that is returned will be in real*8 format and must be converted back into character format by the application program before it can be used as such. Alternatively, there are different subroutines such as <a class="el" href="readwriteval_8F90.html#aad0d9cae550b97bc950c739ff44ca6b2" title="Read a long character string (greater than 8 bytes) from a data subset.">readlc()</a> and <a class="el" href="readwriteval_8F90.html#aecfa08f631e1af46b472c007b93b2955" title="Write a long character string (greater than 8 bytes) to a data subset.">writlc()</a> which can be used to read/write character data directly from/to a data subset without the need to convert from/to real*8 format as an intermediate step.</p>
<p>Numeric (i.e. non-character) data values within usr are always in the exact units specified for the corresponding mnemonic within the relevant DX or master BUFR table, without any scale or reference values applied. Specifically, this means that, when writing data values into an output subset, the user only needs to store each respective value into usr using the units specified within the table, and the NCEPLIBS-bufr software will take care of any necessary scaling or referencing of the value before it is actually encoded into BUFR. Conversely, when reading data values from an input subset, the values returned in usr are already de-scaled and de-referenced and, thus, are already in the exact units that were defined for the corresponding mnemonics within the table.</p>
<p>"Missing" values in usr are always denoted by a unique placeholder value. This placeholder value is initially set to a default value of 10E10_8, but it can be reset to any substitute value of the user's choice via a separate call to subroutine <a class="el" href="missing_8F90.html#a65fba06ac4fb69670084ee11746bdd9f" title="Specify a customized value to represent &quot;missing&quot; data when reading from or writing to BUFR files.">setbmiss()</a>. In any case, and whenever this subroutine is used to read data values from an input subset, any returned value in usr can be easily checked for equivalence to the current placeholder value via a call to function <a class="el" href="missing_8F90.html#a7dd66484c8bf4dd8d8e3791d02715e86" title="Check whether a real*8 data value returned from a previous call to any of the NCEPLIBS-bufr values-re...">ibfms()</a>, and a positive result means that the value for the corresponding mnemonic was encoded as "missing" in BUFR (i.e. all bits set to 1) within the original data subset. Conversely, whenever this subroutine is used to write data values to an output subset, the current placeholder value can be obtained via a separate call to function <a class="el" href="missing_8F90.html#a2e6035695a459284e0592a2452b2f168" title="Get the current placeholder value which represents &quot;missing&quot; data when reading from or writing to BUF...">getbmiss()</a>, and the resulting value can then be stored into the usr array whereever the user desires a BUFR "missing" value (i.e. all bits set to 1) to be encoded for the corresponding mnemonic within the output subset.</p>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>If lunin &lt; 0, and if abs(lunin) points to a file that is open for output (writing BUFR), then the subroutine will treat the file pointed to by abs(lunin) as though it was open for input (reading BUFR). This is a special capability for use by some applications that need to read certain values back out from a BUFR file during the same time that it is in the process of being written to.</li>
<li>If abs(lunin) points to a file that is open for input (reading BUFR), str may contain a Table D mnemonic that is replicated using either 8-bit or 16-bit delayed replication (as noted using replication indicators {} or (), respectively, within the assocated DX BUFR table), and the corresponding location in usr will contain the total number of replications of that mnemonic within the data subset. Note that, when using this option, the applicable replication indicators must be included in str along with the mnemonic itself, as shown in an example in the discussion of <a class="el" href="md__home_runner_work_NCEPLIBS_bufr_NCEPLIBS_bufr_bufr_docs_dx_tables.html#ufbsubs">DX BUFR Tables</a>.</li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lunin</td><td>- Absolute value is Fortran logical unit number for BUFR file </td></tr>
    <tr><td class="paramname">usr</td><td>- Data values<ul>
<li>If abs(lunin) was opened for input, then usr is output from this subroutine and contains data values that were read from the current data subset</li>
<li>If abs(lunin) was opened for output, then usr is input to this subroutine and contains data values that are to be written to the current data subset </li>
</ul>
</td></tr>
    <tr><td class="paramname">i1</td><td>- First dimension of usr as allocated within the calling program </td></tr>
    <tr><td class="paramname">i2</td><td>- Second dimension of usr<ul>
<li>If abs(lunin) was opened for input, then i2 must be set equal to the second dimension of usr as allocated within the calling program</li>
<li>If abs(lunin) was opened for output, then i2 must be set equal to the number of replications of str that are to be written to the data subset </li>
</ul>
</td></tr>
    <tr><td class="paramname">iret</td><td>- Number of replications of str that were read/written from/to the data subset </td></tr>
    <tr><td class="paramname">str</td><td>- String of blank-separated Table B mnemonics in one-to-one correspondence with the number of data values that will be read/written from/to the data subset within the first dimension of usr (see <a class="el" href="md__home_runner_work_NCEPLIBS_bufr_NCEPLIBS_bufr_bufr_docs_dx_tables.html#dfbftab">DX BUFR Tables</a> for further information about Table B mnemonics)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>J. Woollen </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-01-06 </dd></dl>

<p class="definition">Definition at line <a class="el" href="readwriteval_8F90_source.html#l00645">645</a> of file <a class="el" href="readwriteval_8F90_source.html">readwriteval.F90</a>.</p>

<p class="reference">References <a class="el" href="borts_8F90.html#adc4659c5e9171f22248cf61e054ddd17">bort()</a>, <a class="el" href="borts_8F90.html#afef28b5a86909cc8999fad7d98b11f00">bort2()</a>, <a class="el" href="errwrt_8F90.html#a9c4c22af6c77235db8ddd7f41594f543">errwrt()</a>, <a class="el" href="namespacemoda__msgcwd.html#a034d50224d3416c855472ead1043b1aa">moda_msgcwd::inode</a>, <a class="el" href="namespacemoda__usrint.html#a7e27d4bdf5a372fd7dac8ede033f969e">moda_usrint::inv</a>, <a class="el" href="openclosebf_8F90.html#abceda08f9c29378d3ddadeb46e823d00">status()</a>, <a class="el" href="strings_8F90.html#aa3112b3661ec475fe7949d9ae5bafb40">string()</a>, <a class="el" href="readwriteval_8F90.html#a79d01683a99ab7e6a31359c00c317bd8">trybump()</a>, <a class="el" href="readwriteval_8F90.html#a543d19ccf3a36ded022cbbe8db66ee85">ufbrw()</a>, <a class="el" href="x4884_8F90.html#a5b19b8932da48639e6bcaeefc4d03bfb">x48()</a>, and <a class="el" href="x4884_8F90.html#aa1e012dbd8da45797592cc65a399d71d">x84()</a>.</p>

<p class="reference">Referenced by <a class="el" href="cmpbqm_8F90.html#a757321e44a7c476abf5e5fb85384b7da">cmpbqm()</a>, <a class="el" href="readbp_8F90.html#ac55f7a6af2af963791bb395c6dcc331b">readbp()</a>, <a class="el" href="namespacebufr__c2f__interface.html#a4d3f0201945123b06c7d198065cf2f67">bufr_c2f_interface::ufbint_c()</a>, <a class="el" href="readwriteval_8F90.html#a1d88d30e5ee23d6d86cbfb66537b512f">ufbinx()</a>, and <a class="el" href="memmsgs_8F90.html#ae3e462b1a3f2d5af01807bdcded6a745">ufbrms()</a>.</p>

</div>
</div>
<a id="a1d88d30e5ee23d6d86cbfb66537b512f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d88d30e5ee23d6d86cbfb66537b512f">&#9670;&nbsp;</a></span>ufbinx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">recursive subroutine ufbinx </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lunit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>imsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>isub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8, dimension(i1,i2), intent(out)&#160;</td>
          <td class="paramname"><em>usr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*), intent(in)&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read one or more data values from a specified data subset. </p>
<p>If logical unit lunit has already been opened for input operations via a previous call to subroutine <a class="el" href="openclosebf_8F90.html#a9dc7e4fb476a5528a958ee132ee6392d" title="Connect a new file to the NCEPLIBS-bufr software for input or output operations, or initialize the li...">openbf()</a>, then this subroutine will save the current file position, rewind the file to the beginning, reposition the file to a specified data subset within a specified message, read one or more specified data values from that data subset via an internal call to <a class="el" href="readwriteval_8F90.html#a6eb38e7aa610c36787b90e50b290eea7" title="Read or write one or more data values from or to a data subset.">ufbint()</a>, and then restore the file to its previous position.</p>
<p>Otherwise, if logical unit lunit has not already been opened for input operations via a previous call to subroutine <a class="el" href="openclosebf_8F90.html#a9dc7e4fb476a5528a958ee132ee6392d" title="Connect a new file to the NCEPLIBS-bufr software for input or output operations, or initialize the li...">openbf()</a>, then this subroutine will open it via an internal call to subroutine <a class="el" href="openclosebf_8F90.html#a9dc7e4fb476a5528a958ee132ee6392d" title="Connect a new file to the NCEPLIBS-bufr software for input or output operations, or initialize the li...">openbf()</a>, position the file to a specified data subset within a specified message, read one or more specified data values from that data subset via an internal call to <a class="el" href="readwriteval_8F90.html#a6eb38e7aa610c36787b90e50b290eea7" title="Read or write one or more data values from or to a data subset.">ufbint()</a>, and then close the file via an internal call to subroutine <a class="el" href="openclosebf_8F90.html#a48a49bb82348400c1ba6af00c0138ab3" title="Close the connection between logical unit lunit and the NCEPLIBS-bufr software.">closbf()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lunit</td><td>- Fortran logical unit number for BUFR file </td></tr>
    <tr><td class="paramname">imsg</td><td>- Number of BUFR message to be read from the BUFR file, counting from the beginning of the file, but <b>not</b> counting any DX BUFR table messages which may be present in the file </td></tr>
    <tr><td class="paramname">isub</td><td>- Number of data subset to be read from the (imsg)th BUFR message, counting from the beginning of the message </td></tr>
    <tr><td class="paramname">usr</td><td>- Data values </td></tr>
    <tr><td class="paramname">i1</td><td>- First dimension of usr as allocated within the calling program </td></tr>
    <tr><td class="paramname">i2</td><td>- Second dimension of usr as allocated within the calling program </td></tr>
    <tr><td class="paramname">iret</td><td>- Number of replications of str that were read from the data subset </td></tr>
    <tr><td class="paramname">str</td><td>- String of blank-separated Table B mnemonics in one-to-one correspondence with the number of data values that will be read from the data subset within the first dimension of usr (see <a class="el" href="md__home_runner_work_NCEPLIBS_bufr_NCEPLIBS_bufr_bufr_docs_dx_tables.html#dfbftab">DX BUFR Tables</a> for further information about Table B mnemonics)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Woollen </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2003-11-04 </dd></dl>

<p class="definition">Definition at line <a class="el" href="readwriteval_8F90_source.html#l02662">2662</a> of file <a class="el" href="readwriteval_8F90_source.html">readwriteval.F90</a>.</p>

<p class="reference">References <a class="el" href="borts_8F90.html#adc4659c5e9171f22248cf61e054ddd17">bort()</a>, <a class="el" href="openclosebf_8F90.html#a48a49bb82348400c1ba6af00c0138ab3">closbf()</a>, <a class="el" href="openclosebf_8F90.html#a9dc7e4fb476a5528a958ee132ee6392d">openbf()</a>, <a class="el" href="readwritemg_8F90.html#aad947e23951efbcba54930d6f309e0a8">readmg()</a>, <a class="el" href="readwritesb_8F90.html#ab4b6c52feffa76d2a4d8fab6e3547f3c">readsb()</a>, <a class="el" href="openclosebf_8F90.html#a56b33c6538a8c0abf1b6a31584c68494">rewnbf()</a>, <a class="el" href="openclosebf_8F90.html#abceda08f9c29378d3ddadeb46e823d00">status()</a>, <a class="el" href="readwriteval_8F90.html#a6eb38e7aa610c36787b90e50b290eea7">ufbint()</a>, <a class="el" href="x4884_8F90.html#a5b19b8932da48639e6bcaeefc4d03bfb">x48()</a>, and <a class="el" href="x4884_8F90.html#aa1e012dbd8da45797592cc65a399d71d">x84()</a>.</p>

</div>
</div>
<a id="a62aacb5a102aaf1ee01deef68c63cdb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62aacb5a102aaf1ee01deef68c63cdb8">&#9670;&nbsp;</a></span>ufbovr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">recursive subroutine ufbovr </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lunit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8, dimension(i1,i2), intent(inout)&#160;</td>
          <td class="paramname"><em>usr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*), intent(in)&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Overwrite one or more data values within a data subset. </p>
<p>Overwrite specified values which exist in current internal BUFR subset arrays in a file open for output. The data values correspond to mnemonics which are part of a delayed-replication sequence, or for which there is no replication at all. Either subroutine <a class="el" href="readwritemg_8F90.html#a493ce59c1a2976e9714c2d9b283bdb11" title="Open and initialize a new BUFR message within internal arrays, for eventual output to logical unit lu...">openmg()</a> or <a class="el" href="readwritemg_8F90.html#a5edbefade4e7194e4dd3ee42f394034b" title="Open and initialize a new BUFR message within internal arrays, for eventual output to logical unit lu...">openmb()</a> must have been previously called to open and initialize a BUFR message within memory for this lunit. In addition, subroutine <a class="el" href="readwritesb_8F90.html#aa2218d1cd25f8d558448bdc3061b3a04" title="Write a complete data subset into a BUFR message, for eventual output to logical unit lunit.">writsb()</a> or <a class="el" href="readwritesb_8F90.html#aa926be9632b9da3990e2591f0386ee94" title="Merge parts of data subsets which have duplicate space and time coordinates but different or unique o...">invmrg()</a> must have previously been called to store the data values that are now intended to be overwritten within the internal output subset arrays.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lunit</td><td>- Fortran logical unit number for BUFR file </td></tr>
    <tr><td class="paramname">usr</td><td>- Data values </td></tr>
    <tr><td class="paramname">i1</td><td>- First dimension of usr as allocated within the calling program </td></tr>
    <tr><td class="paramname">i2</td><td>- Number of replications of str that are to be written to the data subset </td></tr>
    <tr><td class="paramname">iret</td><td>- Number of replications of str that were written to the data subset </td></tr>
    <tr><td class="paramname">str</td><td>- String of blank-separated Table B mnemonics in one-to-one correspondence with the number of data values that will be written to the data subset within the first dimension of usr (see <a class="el" href="md__home_runner_work_NCEPLIBS_bufr_NCEPLIBS_bufr_bufr_docs_dx_tables.html#dfbftab">DX BUFR Tables</a> for further information about Table B mnemonics)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Woollen </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-01-06 </dd></dl>

<p class="definition">Definition at line <a class="el" href="readwriteval_8F90_source.html#l02128">2128</a> of file <a class="el" href="readwriteval_8F90_source.html">readwriteval.F90</a>.</p>

<p class="reference">References <a class="el" href="borts_8F90.html#adc4659c5e9171f22248cf61e054ddd17">bort()</a>, <a class="el" href="borts_8F90.html#afef28b5a86909cc8999fad7d98b11f00">bort2()</a>, <a class="el" href="errwrt_8F90.html#a9c4c22af6c77235db8ddd7f41594f543">errwrt()</a>, <a class="el" href="namespacemoda__msgcwd.html#a034d50224d3416c855472ead1043b1aa">moda_msgcwd::inode</a>, <a class="el" href="namespacemoda__usrint.html#a7e27d4bdf5a372fd7dac8ede033f969e">moda_usrint::inv</a>, <a class="el" href="openclosebf_8F90.html#abceda08f9c29378d3ddadeb46e823d00">status()</a>, <a class="el" href="strings_8F90.html#aa3112b3661ec475fe7949d9ae5bafb40">string()</a>, <a class="el" href="readwriteval_8F90.html#a79d01683a99ab7e6a31359c00c317bd8">trybump()</a>, <a class="el" href="x4884_8F90.html#a5b19b8932da48639e6bcaeefc4d03bfb">x48()</a>, and <a class="el" href="x4884_8F90.html#aa1e012dbd8da45797592cc65a399d71d">x84()</a>.</p>

</div>
</div>
<a id="af46dec3ef4cc6f467323b40eb14a4024"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af46dec3ef4cc6f467323b40eb14a4024">&#9670;&nbsp;</a></span>ufbrep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">recursive subroutine ufbrep </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lunin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8, dimension(i1,i2), intent(inout)&#160;</td>
          <td class="paramname"><em>usr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*), intent(in)&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read or write one or more data values from or to a data subset. </p>
<p>The direction of the data transfer is determined by the context of abs(lunin):</p><ul>
<li>If abs(lunin) points to a file that was previously opened for input using subroutine <a class="el" href="openclosebf_8F90.html#a9dc7e4fb476a5528a958ee132ee6392d" title="Connect a new file to the NCEPLIBS-bufr software for input or output operations, or initialize the li...">openbf()</a>, then data values are read from the current data subset.</li>
<li>If abs(lunin) points to a file that was previously opened for output using subroutine <a class="el" href="openclosebf_8F90.html#a9dc7e4fb476a5528a958ee132ee6392d" title="Connect a new file to the NCEPLIBS-bufr software for input or output operations, or initialize the li...">openbf()</a>, then data values are written to the current data subset.</li>
</ul>
<p>This subroutine is specifically designed for use with Table B mnemonics which are part of a fixed (i.e. non-delayed) replication sequence, or for mnemonics which are replicated by being directly listed more than once within an overall subset definition. See also subroutines <a class="el" href="readwriteval_8F90.html#a6eb38e7aa610c36787b90e50b290eea7" title="Read or write one or more data values from or to a data subset.">ufbint()</a>, <a class="el" href="readwriteval_8F90.html#a4895b24addb0b3e23f5bd92fd891656e" title="Read or write an entire sequence of data values from or to a data subset.">ufbseq()</a> and <a class="el" href="readwriteval_8F90.html#a921e4820b81e9f33e28a0d0452785a14" title="Read or write one or more data values from or to a data subset.">ufbstp()</a>, which can also be used to read/write one or more data values from/to a data subset but are designed for different use cases. A more detailed discussion of these different use cases, including examples, is available in <a class="el" href="md__home_runner_work_NCEPLIBS_bufr_NCEPLIBS_bufr_bufr_docs_dx_tables.html#ufbsubs">DX BUFR Tables</a>.</p>
<p>It is the user's responsibility to ensure that usr is dimensioned sufficiently large enough to accommodate the number of data values that are to be read from or written to the data subset. Note also that usr is an array of real*8 values; therefore, any data that are to be written out as character (i.e. CCITT IA5) values in BUFR must be converted from character into real*8 format within the application program before calling this subroutine. Conversely, when this subroutine is being used to read character values from a data subset, the value that is returned will be in real*8 format and must be converted back into character format by the application program before it can be used as such. Alternatively, there are different subroutines such as <a class="el" href="readwriteval_8F90.html#aad0d9cae550b97bc950c739ff44ca6b2" title="Read a long character string (greater than 8 bytes) from a data subset.">readlc()</a> and <a class="el" href="readwriteval_8F90.html#aecfa08f631e1af46b472c007b93b2955" title="Write a long character string (greater than 8 bytes) to a data subset.">writlc()</a> which can be used to read/write character data directly from/to a data subset without the need to convert from/to real*8 format as an intermediate step.</p>
<p>Numeric (i.e. non-character) data values within usr are always in the exact units specified for the corresponding mnemonic within the relevant DX or master BUFR table, without any scale or reference values applied. Specifically, this means that, when writing data values into an output subset, the user only needs to store each respective value into usr using the units specified within the table, and the NCEPLIBS-bufr software will take care of any necessary scaling or referencing of the value before it is actually encoded into BUFR. Conversely, when reading data values from an input subset, the values returned in usr are already de-scaled and de-referenced and, thus, are already in the exact units that were defined for the corresponding mnemonics within the table.</p>
<p>"Missing" values in usr are always denoted by a unique placeholder value. This placeholder value is initially set to a default value of 10E10_8, but it can be reset to any substitute value of the user's choice via a separate call to subroutine <a class="el" href="missing_8F90.html#a65fba06ac4fb69670084ee11746bdd9f" title="Specify a customized value to represent &quot;missing&quot; data when reading from or writing to BUFR files.">setbmiss()</a>. In any case, and whenever this subroutine is used to read data values from an input subset, any returned value in usr can be easily checked for equivalence to the current placeholder value via a call to function <a class="el" href="missing_8F90.html#a7dd66484c8bf4dd8d8e3791d02715e86" title="Check whether a real*8 data value returned from a previous call to any of the NCEPLIBS-bufr values-re...">ibfms()</a>, and a positive result means that the value for the corresponding mnemonic was encoded as "missing" in BUFR (i.e. all bits set to 1) within the original data subset. Conversely, whenever this subroutine is used to write data values to an output subset, the current placeholder value can be obtained via a separate call to function <a class="el" href="missing_8F90.html#a2e6035695a459284e0592a2452b2f168" title="Get the current placeholder value which represents &quot;missing&quot; data when reading from or writing to BUF...">getbmiss()</a>, and the resulting value can then be stored into the usr array whereever the user desires a BUFR "missing" value (i.e. all bits set to 1) to be encoded for the corresponding mnemonic within the output subset.</p>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>If lunin &lt; 0, and if abs(lunin) points to a file that is open for output (writing BUFR), then the subroutine will treat the file pointed to by abs(lunin) as though it was open for input (reading BUFR). This is a special capability for use by some applications that need to read certain values back out from a BUFR file during the same time that it is in the process of being written to.</li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lunin</td><td>- Absolute value is Fortran logical unit number for BUFR file </td></tr>
    <tr><td class="paramname">usr</td><td>- Data values<ul>
<li>If abs(lunin) was opened for input, then usr is output from this subroutine and contains data values that were read from the current data subset</li>
<li>If abs(lunin) was opened for output, then usr is input to this subroutine and contains data values that are to be written to the current data subset </li>
</ul>
</td></tr>
    <tr><td class="paramname">i1</td><td>- First dimension of usr as allocated within the calling program </td></tr>
    <tr><td class="paramname">i2</td><td>- Second dimension of usr<ul>
<li>If abs(lunin) was opened for input, then i2 must be set equal to the second dimension of usr as allocated within the calling program</li>
<li>If abs(lunin) was opened for output, then i2 must be set equal to the number of replications of str that are to be written to the data subset </li>
</ul>
</td></tr>
    <tr><td class="paramname">iret</td><td>- Number of replications of str that were read/written from/to the data subset </td></tr>
    <tr><td class="paramname">str</td><td>- String of blank-separated Table B mnemonics in one-to-one correspondence with the number of data values that will be read/written from/to the data subset within the first dimension of usr (see <a class="el" href="md__home_runner_work_NCEPLIBS_bufr_NCEPLIBS_bufr_bufr_docs_dx_tables.html#dfbftab">DX BUFR Tables</a> for further information about Table B mnemonics)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>J. Woollen </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-01-06 </dd></dl>

<p class="definition">Definition at line <a class="el" href="readwriteval_8F90_source.html#l00885">885</a> of file <a class="el" href="readwriteval_8F90_source.html">readwriteval.F90</a>.</p>

<p class="reference">References <a class="el" href="borts_8F90.html#adc4659c5e9171f22248cf61e054ddd17">bort()</a>, <a class="el" href="borts_8F90.html#afef28b5a86909cc8999fad7d98b11f00">bort2()</a>, <a class="el" href="errwrt_8F90.html#a9c4c22af6c77235db8ddd7f41594f543">errwrt()</a>, <a class="el" href="namespacemoda__msgcwd.html#a034d50224d3416c855472ead1043b1aa">moda_msgcwd::inode</a>, <a class="el" href="namespacemoda__usrint.html#a7e27d4bdf5a372fd7dac8ede033f969e">moda_usrint::inv</a>, <a class="el" href="openclosebf_8F90.html#abceda08f9c29378d3ddadeb46e823d00">status()</a>, <a class="el" href="strings_8F90.html#aa3112b3661ec475fe7949d9ae5bafb40">string()</a>, <a class="el" href="readwriteval_8F90.html#a3f676e2267d902f8bc913a6d9d1a6aac">ufbrp()</a>, <a class="el" href="x4884_8F90.html#a5b19b8932da48639e6bcaeefc4d03bfb">x48()</a>, and <a class="el" href="x4884_8F90.html#aa1e012dbd8da45797592cc65a399d71d">x84()</a>.</p>

<p class="reference">Referenced by <a class="el" href="namespacebufr__c2f__interface.html#a57a1b4956a89ed60a934a02d4140eb93">bufr_c2f_interface::ufbrep_c()</a>.</p>

</div>
</div>
<a id="a3f676e2267d902f8bc913a6d9d1a6aac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f676e2267d902f8bc913a6d9d1a6aac">&#9670;&nbsp;</a></span>ufbrp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine ufbrp </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8, dimension(i1,i2), intent(inout)&#160;</td>
          <td class="paramname"><em>usr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write or read specified data values to or from the current BUFR data subset within internal arrays, with the direction of the data transfer determined by the context of io. </p>
<p>The data values correspond to internal arrays representing parsed strings of mnemonics which are either part of a fixed (i.e. non-delayed) replication sequence, or for mnememonics which are replicated by being directly listed more than once within an overall subset definition.</p>
<p>This subroutine should never be directly called by an application program; instead, an application program should directly call <a class="el" href="readwriteval_8F90.html#af46dec3ef4cc6f467323b40eb14a4024" title="Read or write one or more data values from or to a data subset.">ufbrep()</a> which will internally call this subroutine.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lun</td><td>- File ID </td></tr>
    <tr><td class="paramname">usr</td><td>- Data values </td></tr>
    <tr><td class="paramname">i1</td><td>- Length of first dimension of usr </td></tr>
    <tr><td class="paramname">i2</td><td>- Length of second dimension of usr </td></tr>
    <tr><td class="paramname">io</td><td>- Status indicator for BUFR file associated with lun:<ul>
<li>0 input file</li>
<li>1 output file </li>
</ul>
</td></tr>
    <tr><td class="paramname">iret</td><td>- Number of "levels" of data values read from or written to data subset</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>J. Woollen </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-01-06 </dd></dl>

<p class="definition">Definition at line <a class="el" href="readwriteval_8F90_source.html#l01792">1792</a> of file <a class="el" href="readwriteval_8F90_source.html">readwriteval.F90</a>.</p>

<p class="reference">References <a class="el" href="namespacemoda__usrint.html#a2269ddd572fded029ca62080b38f6261">moda_usrint::nval</a>, and <a class="el" href="namespacemoda__usrint.html#a7ad9ef51fc135aad9fcecba2a636f486">moda_usrint::val</a>.</p>

<p class="reference">Referenced by <a class="el" href="readwriteval_8F90.html#af46dec3ef4cc6f467323b40eb14a4024">ufbrep()</a>.</p>

</div>
</div>
<a id="a543d19ccf3a36ded022cbbe8db66ee85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a543d19ccf3a36ded022cbbe8db66ee85">&#9670;&nbsp;</a></span>ufbrw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine ufbrw </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8, dimension(i1,i2), intent(inout)&#160;</td>
          <td class="paramname"><em>usr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write or read specified values to or from the current BUFR data subset within internal arrays, with the direction of the data transfer determined by the context of io. </p>
<p>The data values correspond to internal arrays representing parsed strings of mnemonics which are part of a delayed-replication sequence, or for which there is no replication at all.</p>
<p>This subroutine should never be directly called by an application program; instead, an application program should directly call <a class="el" href="readwriteval_8F90.html#a6eb38e7aa610c36787b90e50b290eea7" title="Read or write one or more data values from or to a data subset.">ufbint()</a> which will internally call this subroutine.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lun</td><td>- File ID </td></tr>
    <tr><td class="paramname">usr</td><td>- Data values </td></tr>
    <tr><td class="paramname">i1</td><td>- Length of first dimension of usr </td></tr>
    <tr><td class="paramname">i2</td><td>- Length of second dimension of usr </td></tr>
    <tr><td class="paramname">io</td><td>- Status indicator for BUFR file associated with lun:<ul>
<li>0 input file</li>
<li>1 output file </li>
</ul>
</td></tr>
    <tr><td class="paramname">iret</td><td>- Number of "levels" of data values read from or written to data subset<ul>
<li>-1 none of the mnemonics in the string passed to <a class="el" href="readwriteval_8F90.html#a6eb38e7aa610c36787b90e50b290eea7" title="Read or write one or more data values from or to a data subset.">ufbint()</a> were found in the data subset template</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>J. Woollen </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-01-06 </dd></dl>

<p class="definition">Definition at line <a class="el" href="readwriteval_8F90_source.html#l01654">1654</a> of file <a class="el" href="readwriteval_8F90_source.html">readwriteval.F90</a>.</p>

<p class="reference">References <a class="el" href="jumplink_8F90.html#ac33dc42cbccbf054fa1c72b4bed5e90e">conwin()</a>, <a class="el" href="jumplink_8F90.html#a1f74d80135fda2ac50f57d99645d2853">drstpl()</a>, <a class="el" href="errwrt_8F90.html#a9c4c22af6c77235db8ddd7f41594f543">errwrt()</a>, <a class="el" href="jumplink_8F90.html#af10a8f5f84135d80474c70f06be65b73">getwin()</a>, <a class="el" href="namespacemoda__msgcwd.html#a034d50224d3416c855472ead1043b1aa">moda_msgcwd::inode</a>, <a class="el" href="jumplink_8F90.html#ab082ab8ef32893928cb10a2876d73af0">newwin()</a>, <a class="el" href="jumplink_8F90.html#a8a7a4ff46107f36ae57dd76442bd2447">nxtwin()</a>, <a class="el" href="namespacemoda__tables.html#a5f03be0ecd3fa7e059b9c74fb67cd4e4">moda_tables::tag</a>, and <a class="el" href="namespacemoda__usrint.html#a7ad9ef51fc135aad9fcecba2a636f486">moda_usrint::val</a>.</p>

<p class="reference">Referenced by <a class="el" href="readwriteval_8F90.html#a79d01683a99ab7e6a31359c00c317bd8">trybump()</a>, and <a class="el" href="readwriteval_8F90.html#a6eb38e7aa610c36787b90e50b290eea7">ufbint()</a>.</p>

</div>
</div>
<a id="a4895b24addb0b3e23f5bd92fd891656e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4895b24addb0b3e23f5bd92fd891656e">&#9670;&nbsp;</a></span>ufbseq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">recursive subroutine ufbseq </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lunin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8, dimension(i1,i2), intent(inout)&#160;</td>
          <td class="paramname"><em>usr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*), intent(in)&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read or write an entire sequence of data values from or to a data subset. </p>
<p>The direction of the data transfer is determined by the context of abs(lunin):</p><ul>
<li>If abs(lunin) points to a file that was previously opened for input using subroutine <a class="el" href="openclosebf_8F90.html#a9dc7e4fb476a5528a958ee132ee6392d" title="Connect a new file to the NCEPLIBS-bufr software for input or output operations, or initialize the li...">openbf()</a>, then data values are read from the current data subset.</li>
<li>If abs(lunin) points to a file that was previously opened for output using subroutine <a class="el" href="openclosebf_8F90.html#a9dc7e4fb476a5528a958ee132ee6392d" title="Connect a new file to the NCEPLIBS-bufr software for input or output operations, or initialize the li...">openbf()</a>, then data values are written to the current data subset.</li>
</ul>
<p>This subroutine is specifically designed for use with a single Table A or Table D mnemonic. In the latter case, the mnemonic may be replicated within the overall subset definition, and in which case the subroutine will return all data values within all replications of the sequence defined by the mnemonic. But in either case, the mnemonic itself may contain, within its own sequence definition, any number of data values defined by Table B mnemonics and/or subsequences of data values defined by other Table D mnemonics, and any such subsequences may themselves be replicated using any manner of fixed or delayed replication. See <a class="el" href="md__home_runner_work_NCEPLIBS_bufr_NCEPLIBS_bufr_bufr_docs_dx_tables.html#ufbsubs">DX BUFR Tables</a> for more details including an example use case, and see also subroutines <a class="el" href="readwriteval_8F90.html#a6eb38e7aa610c36787b90e50b290eea7" title="Read or write one or more data values from or to a data subset.">ufbint()</a>, <a class="el" href="readwriteval_8F90.html#af46dec3ef4cc6f467323b40eb14a4024" title="Read or write one or more data values from or to a data subset.">ufbrep()</a> and <a class="el" href="readwriteval_8F90.html#a921e4820b81e9f33e28a0d0452785a14" title="Read or write one or more data values from or to a data subset.">ufbstp()</a> which are also used to read/write one or more data values from/to a data subset but cannot themselves be directly used with Table A or Table D mnemonics.</p>
<p>It is the user's responsibility to ensure that usr is dimensioned sufficiently large enough to accommodate the number of data values that are to be read from or written to the data subset. Note also that usr is an array of real*8 values; therefore, any data that are to be written out as character (i.e. CCITT IA5) values in BUFR must be converted from character into real*8 format within the application program before calling this subroutine. Conversely, when this subroutine is being used to read character values from a data subset, the value that is returned will be in real*8 format and must be converted back into character format by the application program before it can be used as such. Alternatively, there are different subroutines such as <a class="el" href="readwriteval_8F90.html#aad0d9cae550b97bc950c739ff44ca6b2" title="Read a long character string (greater than 8 bytes) from a data subset.">readlc()</a> and <a class="el" href="readwriteval_8F90.html#aecfa08f631e1af46b472c007b93b2955" title="Write a long character string (greater than 8 bytes) to a data subset.">writlc()</a> which can be used to read/write character data directly from/to a data subset without the need to convert from/to real*8 format as an intermediate step.</p>
<p>Numeric (i.e. non-character) data values within usr are always in the exact units specified for the corresponding mnemonic within the relevant DX or master BUFR table, without any scale or reference values applied. Specifically, this means that, when writing data values into an output subset, the user only needs to store each respective value into usr using the units specified within the table, and the NCEPLIBS-bufr software will take care of any necessary scaling or referencing of the value before it is actually encoded into BUFR. Conversely, when reading data values from an input subset, the values returned in usr are already de-scaled and de-referenced and, thus, are already in the exact units that were defined for the corresponding mnemonics within the table.</p>
<p>"Missing" values in usr are always denoted by a unique placeholder value. This placeholder value is initially set to a default value of 10E10_8, but it can be reset to any substitute value of the user's choice via a separate call to subroutine <a class="el" href="missing_8F90.html#a65fba06ac4fb69670084ee11746bdd9f" title="Specify a customized value to represent &quot;missing&quot; data when reading from or writing to BUFR files.">setbmiss()</a>. In any case, and whenever this subroutine is used to read data values from an input subset, any returned value in usr can be easily checked for equivalence to the current placeholder value via a call to function <a class="el" href="missing_8F90.html#a7dd66484c8bf4dd8d8e3791d02715e86" title="Check whether a real*8 data value returned from a previous call to any of the NCEPLIBS-bufr values-re...">ibfms()</a>, and a positive result means that the value for the corresponding mnemonic was encoded as "missing" in BUFR (i.e. all bits set to 1) within the original data subset. Conversely, whenever this subroutine is used to write data values to an output subset, the current placeholder value can be obtained via a separate call to function <a class="el" href="missing_8F90.html#a2e6035695a459284e0592a2452b2f168" title="Get the current placeholder value which represents &quot;missing&quot; data when reading from or writing to BUF...">getbmiss()</a>, and the resulting value can then be stored into the usr array whereever the user desires a BUFR "missing" value (i.e. all bits set to 1) to be encoded for the corresponding mnemonic within the output subset.</p>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>If lunin &lt; 0, and if abs(lunin) points to a file that is open for output (writing BUFR), then the subroutine will treat the file pointed to by abs(lunin) as though it was open for input (reading BUFR). This is a special capability for use by some applications that need to read certain values back out from a BUFR file during the same time that it is in the process of being written to.</li>
<li>If abs(lunin) points to a file that is open for output (writing BUFR), and if the data values to be written are part of a sequence replicated using delayed replication, then a call to subroutine <a class="el" href="readwriteval_8F90.html#a8a84d615371869d93f16c8617575dee2" title="Explicitly initialize delayed replication factors and allocate a corresponding amount of space within...">drfini()</a> must be made prior to calling this subroutine, in order to pre-allocate the necessary internal array space for the number of replications of the sequence.</li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lunin</td><td>- Absolute value is Fortran logical unit number for BUFR file </td></tr>
    <tr><td class="paramname">usr</td><td>- Data values<ul>
<li>If abs(lunin) was opened for input, then usr is output from this subroutine and contains data values that were read from the current data subset</li>
<li>If abs(lunin) was opened for output, then usr is input to this subroutine and contains data values that are to be written to the current data subset </li>
</ul>
</td></tr>
    <tr><td class="paramname">i1</td><td>- First dimension of usr as allocated within the calling program </td></tr>
    <tr><td class="paramname">i2</td><td>- Second dimension of usr<ul>
<li>If abs(lunin) was opened for input, then i2 must be set equal to the second dimension of usr as allocated within the calling program</li>
<li>If abs(lunin) was opened for output, then i2 must be set equal to the number of replications of str that are to be written to the data subset </li>
</ul>
</td></tr>
    <tr><td class="paramname">iret</td><td>- Number of replications of str that were read/written from/to the data subset </td></tr>
    <tr><td class="paramname">str</td><td>- String consisting of a single Table A or Table D mnemonic whose sequence definition is in one-to-one correspondence with the number of data values that will be read/written from/to the data subset within the first dimension of usr (see <a class="el" href="md__home_runner_work_NCEPLIBS_bufr_NCEPLIBS_bufr_bufr_docs_dx_tables.html#dfbftab">DX BUFR Tables</a> for further information about Table A and Table D mnemonics)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>J. Woollen </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2000-09-19 </dd></dl>

<p class="definition">Definition at line <a class="el" href="readwriteval_8F90_source.html#l01319">1319</a> of file <a class="el" href="readwriteval_8F90_source.html">readwriteval.F90</a>.</p>

<p class="reference">References <a class="el" href="borts_8F90.html#adc4659c5e9171f22248cf61e054ddd17">bort()</a>, <a class="el" href="errwrt_8F90.html#a9c4c22af6c77235db8ddd7f41594f543">errwrt()</a>, <a class="el" href="namespacemoda__msgcwd.html#a034d50224d3416c855472ead1043b1aa">moda_msgcwd::inode</a>, <a class="el" href="namespacemoda__usrint.html#a7e27d4bdf5a372fd7dac8ede033f969e">moda_usrint::inv</a>, <a class="el" href="jumplink_8F90.html#a77a6346a03867a7e65e984ee34de3d91">invtag()</a>, <a class="el" href="jumplink_8F90.html#ab4cc1160c451fcd8709a46f32515ca3c">invwin()</a>, <a class="el" href="namespacemoda__tables.html#a1c370e229cc62002283ca2462296273e">moda_tables::isc</a>, <a class="el" href="namespacemoda__tables.html#ab12171885e93720ae2716b4b1ecae251">moda_tables::itp</a>, <a class="el" href="namespacemoda__tables.html#a5a1f71e4a27babbf5eadd01f7b3dcdcb">moda_tables::jmpb</a>, <a class="el" href="namespacemoda__tables.html#ac0c5953da2d8867d81acad1800fec53c">moda_tables::link</a>, <a class="el" href="namespacemoda__usrint.html#a2269ddd572fded029ca62080b38f6261">moda_usrint::nval</a>, <a class="el" href="strings_8F90.html#a1d493e7de1c23739a0fcd06089139f35">parstr()</a>, <a class="el" href="openclosebf_8F90.html#abceda08f9c29378d3ddadeb46e823d00">status()</a>, <a class="el" href="namespacemoda__tables.html#a5f03be0ecd3fa7e059b9c74fb67cd4e4">moda_tables::tag</a>, <a class="el" href="namespacemoda__tables.html#a4ff0c6b9328407caa52c08dd22d7525c">moda_tables::typ</a>, <a class="el" href="namespacemoda__usrint.html#a7ad9ef51fc135aad9fcecba2a636f486">moda_usrint::val</a>, <a class="el" href="x4884_8F90.html#a5b19b8932da48639e6bcaeefc4d03bfb">x48()</a>, and <a class="el" href="x4884_8F90.html#aa1e012dbd8da45797592cc65a399d71d">x84()</a>.</p>

<p class="reference">Referenced by <a class="el" href="namespacebufr__c2f__interface.html#af0b721af91340e7a261e8014455bd6ca">bufr_c2f_interface::ufbseq_c()</a>.</p>

</div>
</div>
<a id="a7281bf7fbd6efa3a9be946f7d63cffad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7281bf7fbd6efa3a9be946f7d63cffad">&#9670;&nbsp;</a></span>ufbsp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine ufbsp </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8, dimension(i1,i2), intent(inout)&#160;</td>
          <td class="paramname"><em>usr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>io</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write or read specified values to or from the current BUFR data subset within internal arrays, with the direction of the data transfer determined by the context of io. </p>
<p>The data values correspond to internal arrays representing parsed strings of mnemonics which are either part of a fixed (i.e. non-delayed) replication sequence, or for mnememonics which are replicated by being directly listed more than once within an overall subset definition.</p>
<p>This subroutine should never be directly called by an application program; instead, an application program should directly call <a class="el" href="readwriteval_8F90.html#a921e4820b81e9f33e28a0d0452785a14" title="Read or write one or more data values from or to a data subset.">ufbstp()</a> which will internally call this subroutine.</p>
<p>This subroutine is similar to subroutine <a class="el" href="readwriteval_8F90.html#a3f676e2267d902f8bc913a6d9d1a6aac" title="Write or read specified data values to or from the current BUFR data subset within internal arrays,...">ufbrp()</a>, but it is designed for different use cases. For a more detailed explanation of how subroutine <a class="el" href="readwriteval_8F90.html#a921e4820b81e9f33e28a0d0452785a14" title="Read or write one or more data values from or to a data subset.">ufbstp()</a> differs from subroutine <a class="el" href="readwriteval_8F90.html#af46dec3ef4cc6f467323b40eb14a4024" title="Read or write one or more data values from or to a data subset.">ufbrep()</a>, and therefore how this subroutine differs from subroutine <a class="el" href="readwriteval_8F90.html#a3f676e2267d902f8bc913a6d9d1a6aac" title="Write or read specified data values to or from the current BUFR data subset within internal arrays,...">ufbrp()</a>, see the discussion in <a class="el" href="md__home_runner_work_NCEPLIBS_bufr_NCEPLIBS_bufr_bufr_docs_dx_tables.html#ufbsubs">DX BUFR Tables</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lun</td><td>- File ID </td></tr>
    <tr><td class="paramname">usr</td><td>- Data values </td></tr>
    <tr><td class="paramname">i1</td><td>- Length of first dimension of usr </td></tr>
    <tr><td class="paramname">i2</td><td>- Length of second dimension of usr </td></tr>
    <tr><td class="paramname">io</td><td>- Status indicator for BUFR file associated with lun:<ul>
<li>0 input file</li>
<li>1 output file </li>
</ul>
</td></tr>
    <tr><td class="paramname">iret</td><td>- Number of "levels" of data values read from or written to data subset</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>J. Woollen </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1999-11-18 </dd></dl>

<p class="definition">Definition at line <a class="el" href="readwriteval_8F90_source.html#l01876">1876</a> of file <a class="el" href="readwriteval_8F90_source.html">readwriteval.F90</a>.</p>

<p class="reference">References <a class="el" href="namespacemoda__usrint.html#a2269ddd572fded029ca62080b38f6261">moda_usrint::nval</a>, and <a class="el" href="namespacemoda__usrint.html#a7ad9ef51fc135aad9fcecba2a636f486">moda_usrint::val</a>.</p>

<p class="reference">Referenced by <a class="el" href="readwriteval_8F90.html#a921e4820b81e9f33e28a0d0452785a14">ufbstp()</a>.</p>

</div>
</div>
<a id="a921e4820b81e9f33e28a0d0452785a14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a921e4820b81e9f33e28a0d0452785a14">&#9670;&nbsp;</a></span>ufbstp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">recursive subroutine ufbstp </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lunin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real*8, dimension(i1,i2), intent(inout)&#160;</td>
          <td class="paramname"><em>usr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>i2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*), intent(in)&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read or write one or more data values from or to a data subset. </p>
<p>The direction of the data transfer is determined by the context of abs(lunin):</p><ul>
<li>If abs(lunin) points to a file that was previously opened for input using subroutine <a class="el" href="openclosebf_8F90.html#a9dc7e4fb476a5528a958ee132ee6392d" title="Connect a new file to the NCEPLIBS-bufr software for input or output operations, or initialize the li...">openbf()</a>, then data values are read from the current data subset.</li>
<li>If abs(lunin) points to a file that was previously opened for output using subroutine <a class="el" href="openclosebf_8F90.html#a9dc7e4fb476a5528a958ee132ee6392d" title="Connect a new file to the NCEPLIBS-bufr software for input or output operations, or initialize the li...">openbf()</a>, then data values are written to the current data subset.</li>
</ul>
<p>This subroutine is specifically designed for use with Table B mnemonics which are part of a fixed (i.e. non-delayed) replication sequence, or for mnemonics which are replicated by being directly listed more than once within an overall subset definition. It is very similar to subroutine <a class="el" href="readwriteval_8F90.html#af46dec3ef4cc6f467323b40eb14a4024" title="Read or write one or more data values from or to a data subset.">ufbrep()</a>, but it differs in how it processes the input mnemonic string str. For more details, see the discussion and example use case in <a class="el" href="md__home_runner_work_NCEPLIBS_bufr_NCEPLIBS_bufr_bufr_docs_dx_tables.html#ufbsubs">DX BUFR Tables</a>. See also subroutines <a class="el" href="readwriteval_8F90.html#a6eb38e7aa610c36787b90e50b290eea7" title="Read or write one or more data values from or to a data subset.">ufbint()</a> and <a class="el" href="readwriteval_8F90.html#a4895b24addb0b3e23f5bd92fd891656e" title="Read or write an entire sequence of data values from or to a data subset.">ufbseq()</a>, which can also be used to read/write one or more data values from/to a data subset but are also designed for different use cases as noted in <a class="el" href="md__home_runner_work_NCEPLIBS_bufr_NCEPLIBS_bufr_bufr_docs_dx_tables.html#ufbsubs">DX BUFR Tables</a>.</p>
<p>It is the user's responsibility to ensure that usr is dimensioned sufficiently large enough to accommodate the number of data values that are to be read from or written to the data subset. Note also that usr is an array of real*8 values; therefore, any data that are to be written out as character (i.e. CCITT IA5) values in BUFR must be converted from character into real*8 format within the application program before calling this subroutine. Conversely, when this subroutine is being used to read character values from a data subset, the value that is returned will be in real*8 format and must be converted back into character format by the application program before it can be used as such. Alternatively, there are different subroutines such as <a class="el" href="readwriteval_8F90.html#aad0d9cae550b97bc950c739ff44ca6b2" title="Read a long character string (greater than 8 bytes) from a data subset.">readlc()</a> and <a class="el" href="readwriteval_8F90.html#aecfa08f631e1af46b472c007b93b2955" title="Write a long character string (greater than 8 bytes) to a data subset.">writlc()</a> which can be used to read/write character data directly from/to a data subset without the need to convert from/to real*8 format as an intermediate step.</p>
<p>Numeric (i.e. non-character) data values within usr are always in the exact units specified for the corresponding mnemonic within the relevant DX or master BUFR table, without any scale or reference values applied. Specifically, this means that, when writing data values into an output subset, the user only needs to store each respective value into usr using the units specified within the table, and the NCEPLIBS-bufr software will take care of any necessary scaling or referencing of the value before it is actually encoded into BUFR. Conversely, when reading data values from an input subset, the values returned in usr are already de-scaled and de-referenced and, thus, are already in the exact units that were defined for the corresponding mnemonics within the table.</p>
<p>"Missing" values in usr are always denoted by a unique placeholder value. This placeholder value is initially set to a default value of 10E10_8, but it can be reset to any substitute value of the user's choice via a separate call to subroutine <a class="el" href="missing_8F90.html#a65fba06ac4fb69670084ee11746bdd9f" title="Specify a customized value to represent &quot;missing&quot; data when reading from or writing to BUFR files.">setbmiss()</a>. In any case, and whenever this subroutine is used to read data values from an input subset, any returned value in usr can be easily checked for equivalence to the current placeholder value via a call to function <a class="el" href="missing_8F90.html#a7dd66484c8bf4dd8d8e3791d02715e86" title="Check whether a real*8 data value returned from a previous call to any of the NCEPLIBS-bufr values-re...">ibfms()</a>, and a positive result means that the value for the corresponding mnemonic was encoded as "missing" in BUFR (i.e. all bits set to 1) within the original data subset. Conversely, whenever this subroutine is used to write data values to an output subset, the current placeholder value can be obtained via a separate call to function <a class="el" href="missing_8F90.html#a2e6035695a459284e0592a2452b2f168" title="Get the current placeholder value which represents &quot;missing&quot; data when reading from or writing to BUF...">getbmiss()</a>, and the resulting value can then be stored into the usr array whereever the user desires a BUFR "missing" value (i.e. all bits set to 1) to be encoded for the corresponding mnemonic within the output subset.</p>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>If lunin &lt; 0, and if abs(lunin) points to a file that is open for output (writing BUFR), then the subroutine will treat the file pointed to by abs(lunin) as though it was open for input (reading BUFR). This is a special capability for use by some applications that need to read certain values back out from a BUFR file during the same time that it is in the process of being written to.</li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lunin</td><td>- Absolute value is Fortran logical unit number for BUFR file </td></tr>
    <tr><td class="paramname">usr</td><td>- Data values<ul>
<li>If abs(lunin) was opened for input, then usr is output from this subroutine and contains data values that were read from the current data subset</li>
<li>If abs(lunin) was opened for output, then usr is input to this subroutine and contains data values that are to be written to the current data subset </li>
</ul>
</td></tr>
    <tr><td class="paramname">i1</td><td>- First dimension of usr as allocated within the calling program </td></tr>
    <tr><td class="paramname">i2</td><td>- Second dimension of usr<ul>
<li>If abs(lunin) was opened for input, then i2 must be set equal to the second dimension of usr as allocated within the calling program</li>
<li>If abs(lunin) was opened for output, then i2 must be set equal to the number of replications of str that are to be written to the data subset </li>
</ul>
</td></tr>
    <tr><td class="paramname">iret</td><td>- Number of replications of str that were read/written from/to the data subset </td></tr>
    <tr><td class="paramname">str</td><td>- String of blank-separated Table B mnemonics in one-to-one correspondence with the number of data values that will be read/written from/to the data subset within the first dimension of usr (see <a class="el" href="md__home_runner_work_NCEPLIBS_bufr_NCEPLIBS_bufr_bufr_docs_dx_tables.html#dfbftab">DX BUFR Tables</a> for further information about Table B mnemonics)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>J. Woollen </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-01-06 </dd></dl>

<p class="definition">Definition at line <a class="el" href="readwriteval_8F90_source.html#l01098">1098</a> of file <a class="el" href="readwriteval_8F90_source.html">readwriteval.F90</a>.</p>

<p class="reference">References <a class="el" href="borts_8F90.html#adc4659c5e9171f22248cf61e054ddd17">bort()</a>, <a class="el" href="borts_8F90.html#afef28b5a86909cc8999fad7d98b11f00">bort2()</a>, <a class="el" href="errwrt_8F90.html#a9c4c22af6c77235db8ddd7f41594f543">errwrt()</a>, <a class="el" href="namespacemoda__msgcwd.html#a034d50224d3416c855472ead1043b1aa">moda_msgcwd::inode</a>, <a class="el" href="namespacemoda__usrint.html#a7e27d4bdf5a372fd7dac8ede033f969e">moda_usrint::inv</a>, <a class="el" href="openclosebf_8F90.html#abceda08f9c29378d3ddadeb46e823d00">status()</a>, <a class="el" href="strings_8F90.html#aa3112b3661ec475fe7949d9ae5bafb40">string()</a>, <a class="el" href="readwriteval_8F90.html#a7281bf7fbd6efa3a9be946f7d63cffad">ufbsp()</a>, <a class="el" href="x4884_8F90.html#a5b19b8932da48639e6bcaeefc4d03bfb">x48()</a>, and <a class="el" href="x4884_8F90.html#aa1e012dbd8da45797592cc65a399d71d">x84()</a>.</p>

</div>
</div>
<a id="aecfa08f631e1af46b472c007b93b2955"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecfa08f631e1af46b472c007b93b2955">&#9670;&nbsp;</a></span>writlc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">recursive subroutine writlc </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>lunit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*), intent(in)&#160;</td>
          <td class="paramname"><em>chr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*), intent(in)&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a long character string (greater than 8 bytes) to a data subset. </p>
<p>The data subset should have already been written into a BUFR message before calling this subroutine to write a long character string into the subset.</p>
<p>If there is more than one occurrence of str within the data subset definition, then each occurrence can be written via a separate call to this subroutine, and by appending the ordinal number of the occurrence to STR in each case. For example, if there are 5 occurrences of mnemonic LSTID within a given data subset definition, then 5 separate calls should be made to this subroutine, once each with str set to 'LSTID#1', 'LSTID#2', 'LSTID#3', 'LSTID#4' and 'LSTID#5'. However, the first notation is superfluous, because omitting the ordinal number always defaults to the first occurrence of a particular string, so a user could just specify 'LSTID' instead of 'LSTID#1'.</p>
<p>Character strings which are 8 bytes or less in length can be written by converting the string into a real*8 value within the application program, and then using the real*8 usr array within a call to one of the NCEPLIBS-bufr <a class="el" href="index.html#hierarchy">values-writing subroutines</a> prior to calling one of the <a class="el" href="index.html#hierarchy">subset-writing subroutines</a> for the data subset.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lunit</td><td>- Fortran logical unit number for BUFR file </td></tr>
    <tr><td class="paramname">chr</td><td>- Value corresponding to str </td></tr>
    <tr><td class="paramname">str</td><td>- Table B mnemonic of long character string to be written, possibly supplemented with an ordinal occurrence notation</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>J. Woollen </dd>
<dd>
J. Ator </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2003-11-04 </dd></dl>

<p class="definition">Definition at line <a class="el" href="readwriteval_8F90_source.html#l00199">199</a> of file <a class="el" href="readwriteval_8F90_source.html">readwriteval.F90</a>.</p>

<p class="reference">References <a class="el" href="borts_8F90.html#adc4659c5e9171f22248cf61e054ddd17">bort()</a>, <a class="el" href="namespacemoda__comprs.html#a94ea2c3cfc88079d837ac29324d61937">moda_comprs::catx</a>, <a class="el" href="errwrt_8F90.html#a9c4c22af6c77235db8ddd7f41594f543">errwrt()</a>, <a class="el" href="readwritemg_8F90.html#ab6c6c3d1925977e2c4013b3da342dc37">getlens()</a>, <a class="el" href="namespacemoda__bitbuf.html#a8c052fc732472f6f329209ac2db75cf9">moda_bitbuf::ibit</a>, <a class="el" href="namespacemoda__tables.html#a1ff254e3c0f169340a16225a17c5a2c2">moda_tables::ibt</a>, <a class="el" href="namespacemoda__usrint.html#a7e27d4bdf5a372fd7dac8ede033f969e">moda_usrint::inv</a>, <a class="el" href="namespacemoda__tables.html#ab12171885e93720ae2716b4b1ecae251">moda_tables::itp</a>, <a class="el" href="s013vals_8F90.html#a6060b7b617646ee396097f20317e2f4d">iupbs3()</a>, <a class="el" href="namespacemoda__comprs.html#ac4fd15b3e268548d17edca4e1e5e5675">moda_comprs::matx</a>, <a class="el" href="namespacemoda__bitbuf.html#aad8a1595878ac1a9907c708067c4c050">moda_bitbuf::mbay</a>, <a class="el" href="namespacemoda__comprs.html#a0bab4a779995493580b46f231516e133">moda_comprs::ncol</a>, <a class="el" href="namespacemoda__msgcwd.html#ac477545b5d44685da84af7f23d7baa59">moda_msgcwd::nsub</a>, <a class="el" href="namespacemoda__usrint.html#a2269ddd572fded029ca62080b38f6261">moda_usrint::nval</a>, <a class="el" href="strings_8F90.html#a1d493e7de1c23739a0fcd06089139f35">parstr()</a>, <a class="el" href="strings_8F90.html#a2da1c300ec049ee215d937b5ab545f53">parutg()</a>, <a class="el" href="ciencode_8F90.html#a52ae4b28f79718d9b6631d2f7a5a7160">pkc()</a>, <a class="el" href="openclosebf_8F90.html#abceda08f9c29378d3ddadeb46e823d00">status()</a>, <a class="el" href="namespacemoda__tables.html#a5f03be0ecd3fa7e059b9c74fb67cd4e4">moda_tables::tag</a>, <a class="el" href="namespacemoda__tables.html#a4ff0c6b9328407caa52c08dd22d7525c">moda_tables::typ</a>, <a class="el" href="cidecode_8F90.html#a07dda20577f7480095dff261d11241f8">upb()</a>, <a class="el" href="cidecode_8F90.html#a243e1ab84f5a36179c0ac05056574257">upbb()</a>, <a class="el" href="readwritesb_8F90.html#a470af56bdf10d0b31292b0edac067597">usrtpl()</a>, and <a class="el" href="x4884_8F90.html#aa1e012dbd8da45797592cc65a399d71d">x84()</a>.</p>

<p class="reference">Referenced by <a class="el" href="readwritesb_8F90.html#a237f33069932c5fae473ac718c2eae9a">msgupd()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="readwriteval_8F90.html">readwriteval.F90</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
