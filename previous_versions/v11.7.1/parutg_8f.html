<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-bufr: parutg.f File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">NCEPLIBS-bufr<span id="projectnumber">&#160;11.7.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('parutg_8f.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle"><div class="title">parutg.f File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="parutg_8f_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a48496d3ac23b5e7d75a524f4ae62e181"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="parutg_8f.html#a48496d3ac23b5e7d75a524f4ae62e181">parutg</a> (LUN, IO, UTG, NOD, KON, VAL)</td></tr>
<tr class="memdesc:a48496d3ac23b5e7d75a524f4ae62e181"><td class="mdescLeft">&#160;</td><td class="mdescRight">THIS SUBROUTINE PARSES A USER-SPECIFIED TAG (MNEMONIC) (UTG) THAT REPRESENTS A VALUE EITHER BEING DECODED FROM A BUFR FILE (IF IT IS BEING READ) OR ENCODED INTO A BUFR FILE (IF IT IS BEING WRITTEN).  <a href="parutg_8f.html#a48496d3ac23b5e7d75a524f4ae62e181">More...</a><br /></td></tr>
<tr class="separator:a48496d3ac23b5e7d75a524f4ae62e181"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>WOOLLEN </dd></dl>
<dl class="section date"><dt>Date</dt><dd>1994-01-06 </dd></dl>

<p class="definition">Definition in file <a class="el" href="parutg_8f_source.html">parutg.f</a>.</p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a48496d3ac23b5e7d75a524f4ae62e181" name="a48496d3ac23b5e7d75a524f4ae62e181"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48496d3ac23b5e7d75a524f4ae62e181">&#9670;&nbsp;</a></span>parutg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine parutg </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>LUN</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>IO</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character*(*)&#160;</td>
          <td class="paramname"><em>UTG</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>NOD</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>KON</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>VAL</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>THIS SUBROUTINE PARSES A USER-SPECIFIED TAG (MNEMONIC) (UTG) THAT REPRESENTS A VALUE EITHER BEING DECODED FROM A BUFR FILE (IF IT IS BEING READ) OR ENCODED INTO A BUFR FILE (IF IT IS BEING WRITTEN). </p>
<p >THIS SUBROUTINE FIRST CHECKS TO SEE IF THE TAG CONTAINS A CONDITION CHARACTER ('=', '!', '&lt;', '&gt;', '^' OR '#'). IF IT DOES NOT, NOTHING HAPPENS AT THIS POINT. IF IT DOES, THEN THE TYPE OF CONDITION CHARACTER IS NOTED AND THE TAG IS STRIPPED OF ALL CHARACTERS AT AND BEYOND THE CONDITION CHARACTER. IN EITHER EVENT, THE RESULTANT TAG IS CHECKED AGAINST THOSE IN THE INTERNAL JUMP/ LINK SUBSET TABLE (IN MODULE TABLES). IF FOUND, THE NODE ASSOCIATED WITH THE TAG IS RETURNED (AND IT IS EITHER A "CONDITION" NODE OR A "STORE" NODE DEPENDING OF THE PRESENCE OR ABSENCE OF A CONDITION CHARACTER IN UTG). OTHERWISE THE NODE IS RETURNED AS ZERO. IF THE TAG REPRESENTS A CONDITION NODE, THEN THE CONDITION VALUE (NUMERIC CHARACTERS BEYOND THE CONDITION CHARACTER IN THE USER-SPECIFIED TAG INPUT HERE) IS RETURNED.</p>
<p >AS AN EXAMPLE OF CONDITION CHARACTER USAGE, CONSIDER THE FOLLOWING EXAMPLE OF A CALL TO UFBINT:</p>
<p >REAL*8 USR(4,50) .... .... CALL UFBINT(LUNIN,USR,4,50,IRET,'PRLC&lt;50000 TMDB WDIR WSPD')</p>
<p >ASSUMING THAT LUNIN POINTS TO A BUFR FILE OPEN FOR INPUT (READING), THEN THE USR ARRAY NOW CONTAINS IRET LEVELS OF DATA (UP TO A MAXIMUM OF 50!) WHERE THE VALUE OF PRLC IS/WAS LESS THAN 50000, ALONG WITH THE CORRESPONDING VALUES FOR TMDB, WDIR AND WSPD AT THOSE LEVELS.</p>
<p >AS ANOTHER EXAMPLE, CONSIDER THE FOLLOWING EXAMPLE OF A CALL TO READLC FOR A LONG CHARACTER STRING:</p>
<p >CHARACTER*200 LCHR .... .... CALL READLC(LUNIN,LCHR,'NUMID#3')</p>
<p >ASSUMING THAT LUNIN POINTS TO A BUFR FILE OPEN FOR INPUT (READING), THEN THE LCHR STRING NOW CONTAINS THE VALUE CORRESPONDING TO THE THIRD OCCURRENCE OF NUMID WITHIN THE CURRENT SUBSET.</p>
<p >VALID CONDITION CODES INCLUDE: '&lt;' - LESS THAN '&gt;' - GREATER THAN '=' - EQUAL TO '!' - NOT EQUAL TO '#' - ORDINAL IDENTIFIER FOR A PARTICULAR OCCURRENCE OF A LONG CHARACTER STRING</p>
<p >PROGRAM HISTORY LOG: 1994-01-06 J. WOOLLEN &ndash; ORIGINAL AUTHOR 1998-07-08 J. WOOLLEN &ndash; REPLACED CALL TO CRAY LIBRARY ROUTINE "ABORT" WITH CALL TO NEW INTERNAL BUFRLIB ROUTINE "BORT" 1999-11-18 J. WOOLLEN &ndash; THE NUMBER OF BUFR FILES WHICH CAN BE OPENED AT ONE TIME INCREASED FROM 10 TO 32 (NECESSARY IN ORDER TO PROCESS MULTIPLE BUFR FILES UNDER THE MPI) 2003-11-04 S. BENDER &ndash; ADDED REMARKS/BUFRLIB ROUTINE INTERDEPENDENCIES 2003-11-04 D. KEYSER &ndash; MAXJL (MAXIMUM NUMBER OF JUMP/LINK ENTRIES) INCREASED FROM 15000 TO 16000 (WAS IN VERIFICATION VERSION); UNIFIED/PORTABLE FOR WRF; ADDED DOCUMENTATION (INCLUDING HISTORY); OUTPUTS MORE COMPLETE DIAGNOSTIC INFO WHEN ROUTINE TERMINATES ABNORMALLY; CHANGED CALL FROM BORT TO BORT2 IN SOME CASES; REPLACED PREVIOUS "RETURN 1" STATEMENT WITH "GOTO 900" (AND CALL TO BORT) SINCE THE ONLY ROUTINE THAT CALLS THIS ROUTINE, PARUSR, USED THIS ALTERNATE RETURN TO GO TO A STATEMENT WHICH CALLED BORT 2005-04-22 J. ATOR &ndash; HANDLED SITUATION WHERE INPUT TAG CONTAINS 1-BIT DELAYED REPLICATION, AND IMPROVED DOCUMENTATION 2009-03-23 J. ATOR &ndash; ADDED '#' CONDITION CODE 2014-12-10 J. ATOR &ndash; USE MODULES INSTEAD OF COMMON BLOCKS</p>
<p >USAGE: CALL PARUTG (LUN, IO, UTG, NOD, KON, VAL) INPUT ARGUMENT LIST: LUN - INTEGER: I/O STREAM INDEX INTO INTERNAL MEMORY ARRAYS IO - INTEGER: STATUS INDICATOR FOR BUFR FILE ASSOCIATED WITH LUN: 0 = input file 1 = output file UTG CHARACTER*(*): USER-SUPPLIED TAG REPRESENTING A VALUE TO BE ENCODED/DECODED TO/FROM BUFR FILE</p>
<p >OUTPUT ARGUMENT LIST: NOD - INTEGER: POSITIONAL INDEX IN INTERNAL JUMP/LINK SUBSET TABLE FOR TAG 0 = tag not found in table KON - INTEGER: INDICATOR FOR TYPE OF CONDITION CHARACTER FOUND IN UTG: 0 = no condition character found (NOD is a store node) 1 = character '=' found 2 = character '!' found 3 = character '&lt;' found 4 = character '&gt;' found 5 = character '^' found 6 = character '#' found (1-6 means NOD is a condition node, and specifically 5 is a "bump" node) VAL - REAL: CONDITION VALUE ASSOCIATED WITH CONDITION CHARACTER FOUND IN UTG 0 = UTG does not have a condition character</p>
<p >REMARKS: THIS ROUTINE CALLS: BORT BORT2 STRNUM THIS ROUTINE IS CALLED BY: PARUSR READLC WRITLC Normally not called by any application programs. </p>

<p class="definition">Definition at line <a class="el" href="parutg_8f_source.html#l00120">120</a> of file <a class="el" href="parutg_8f_source.html">parutg.f</a>.</p>

<p class="reference">References <a class="el" href="bort_8f.html#a488d3a8cf930fb592a9fdaefcfa04ac4">bort()</a>, <a class="el" href="bort2_8f.html#a50f605cc96a22ffce20206c2d254b9c3">bort2()</a>, <a class="el" href="namespacemoda__tables.html#a1c178b3f0fb4f7ad1380cb7509d371a7">moda_tables::isc</a>, <a class="el" href="strnum_8f.html#a3cb1ef014cf71b6456ec7fa46d51ed06">strnum()</a>, <a class="el" href="namespacemoda__tables.html#a72f922bfc79b111f1bf8487defd6ea2b">moda_tables::tag</a>, and <a class="el" href="namespacemoda__tables.html#a1d6fb8d806a42e177ff8a3f5aa31a5d9">moda_tables::typ</a>.</p>

<p class="reference">Referenced by <a class="el" href="parusr_8f.html#a8c7afcc8ef3c345d51b9e902be92f9e5">parusr()</a>, <a class="el" href="readlc_8f.html#acf408b0943fc7a5040009cd9a9bc57a1">readlc()</a>, and <a class="el" href="writlc_8f.html#a7017d5359bb32ce5407499d7a1b16709">writlc()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_30c37837910170b6dae887e9df3b66a9.html">nceplibs-bufr</a></li><li class="navelem"><a class="el" href="dir_e81fc8df062d10d5f2b231f7e4ab81b8.html">src</a></li><li class="navelem"><a class="el" href="parutg_8f.html">parutg.f</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
